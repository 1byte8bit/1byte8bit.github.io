<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>好好学习,天天向上</title>
  <icon>https://www.gravatar.com/avatar/3563d1ddc1457652131bef3aa9d25ab0</icon>
  <subtitle>good good study,day day up</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://youxiu.net/"/>
  <updated>2020-02-17T15:57:19.298Z</updated>
  <id>https://youxiu.net/</id>
  
  <author>
    <name>qiu</name>
    <email>2binarytree@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>使用Bash Shell实现自定义信息修改flowable工作流引擎war包配置</title>
    <link href="https://youxiu.net/2020/02/17/2eeba61b-ff4b-4166-ae26-ee61b6002724/"/>
    <id>https://youxiu.net/2020/02/17/2eeba61b-ff4b-4166-ae26-ee61b6002724/</id>
    <published>2020-02-17T15:25:27.000Z</published>
    <updated>2020-02-17T15:57:19.298Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1、概要"><a href="#1、概要" class="headerlink" title="1、概要"></a>1、概要</h1><p>部署开发与生产环境，有用到flowable工作流的地方，每次部署，需要修改war包里面的配置，最多的就是引擎的地址和数据库的地址、端口，账密等信息。次数多了，修改这些体力活。</p><p>使用shell改进这个工作。<br><a id="more"></a></p><h3 id="1-1、思路"><a href="#1-1、思路" class="headerlink" title="1.1、思路"></a>1.1、思路</h3><ul><li>获得flowable的release包 &amp;&amp; 解压 &amp;&amp; 进入解压的文件夹 &amp;&amp; 进入war包所在位置；</li><li>解压war包 &amp;&amp; 删除原来的配置文件 &amp;&amp; 创建新的配置文件；</li><li>提示用户输入信息(不输入会有默认并提示) &amp;&amp; 最后确认； </li><li>如果有问题，则输入n，并输入相对应的需要进行修正；</li><li>如果正确，则输入y，将用户输入的信息写入配置文件 &amp;&amp; 打包war包；</li><li>结束</li></ul><h1 id="2、使用与实现"><a href="#2、使用与实现" class="headerlink" title="2、使用与实现"></a>2、使用与实现</h1><p>我下载的flowable-6.3.0.zip，在使用的时候，保证脚本与这个压缩包在同一目录下即可。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br><span class="line">1354</span><br><span class="line">1355</span><br><span class="line">1356</span><br><span class="line">1357</span><br><span class="line">1358</span><br><span class="line">1359</span><br><span class="line">1360</span><br><span class="line">1361</span><br><span class="line">1362</span><br><span class="line">1363</span><br><span class="line">1364</span><br><span class="line">1365</span><br><span class="line">1366</span><br><span class="line">1367</span><br><span class="line">1368</span><br><span class="line">1369</span><br><span class="line">1370</span><br><span class="line">1371</span><br><span class="line">1372</span><br><span class="line">1373</span><br><span class="line">1374</span><br><span class="line">1375</span><br><span class="line">1376</span><br><span class="line">1377</span><br><span class="line">1378</span><br><span class="line">1379</span><br><span class="line">1380</span><br><span class="line">1381</span><br><span class="line">1382</span><br><span class="line">1383</span><br><span class="line">1384</span><br><span class="line">1385</span><br><span class="line">1386</span><br><span class="line">1387</span><br><span class="line">1388</span><br><span class="line">1389</span><br><span class="line">1390</span><br><span class="line">1391</span><br><span class="line">1392</span><br><span class="line">1393</span><br><span class="line">1394</span><br><span class="line">1395</span><br><span class="line">1396</span><br><span class="line">1397</span><br><span class="line">1398</span><br><span class="line">1399</span><br><span class="line">1400</span><br><span class="line">1401</span><br><span class="line">1402</span><br><span class="line">1403</span><br><span class="line">1404</span><br><span class="line">1405</span><br><span class="line">1406</span><br><span class="line">1407</span><br><span class="line">1408</span><br><span class="line">1409</span><br><span class="line">1410</span><br><span class="line">1411</span><br><span class="line">1412</span><br><span class="line">1413</span><br><span class="line">1414</span><br><span class="line">1415</span><br><span class="line">1416</span><br><span class="line">1417</span><br><span class="line">1418</span><br><span class="line">1419</span><br><span class="line">1420</span><br><span class="line">1421</span><br><span class="line">1422</span><br><span class="line">1423</span><br><span class="line">1424</span><br><span class="line">1425</span><br><span class="line">1426</span><br><span class="line">1427</span><br><span class="line">1428</span><br><span class="line">1429</span><br><span class="line">1430</span><br><span class="line">1431</span><br><span class="line">1432</span><br><span class="line">1433</span><br><span class="line">1434</span><br><span class="line">1435</span><br><span class="line">1436</span><br><span class="line">1437</span><br><span class="line">1438</span><br><span class="line">1439</span><br><span class="line">1440</span><br><span class="line">1441</span><br><span class="line">1442</span><br><span class="line">1443</span><br><span class="line">1444</span><br><span class="line">1445</span><br><span class="line">1446</span><br><span class="line">1447</span><br><span class="line">1448</span><br><span class="line">1449</span><br><span class="line">1450</span><br><span class="line">1451</span><br><span class="line">1452</span><br><span class="line">1453</span><br><span class="line">1454</span><br><span class="line">1455</span><br><span class="line">1456</span><br><span class="line">1457</span><br><span class="line">1458</span><br><span class="line">1459</span><br><span class="line">1460</span><br><span class="line">1461</span><br><span class="line">1462</span><br><span class="line">1463</span><br><span class="line">1464</span><br><span class="line">1465</span><br><span class="line">1466</span><br><span class="line">1467</span><br><span class="line">1468</span><br><span class="line">1469</span><br><span class="line">1470</span><br><span class="line">1471</span><br><span class="line">1472</span><br><span class="line">1473</span><br><span class="line">1474</span><br><span class="line">1475</span><br><span class="line">1476</span><br><span class="line">1477</span><br><span class="line">1478</span><br><span class="line">1479</span><br><span class="line">1480</span><br><span class="line">1481</span><br><span class="line">1482</span><br><span class="line">1483</span><br><span class="line">1484</span><br><span class="line">1485</span><br><span class="line">1486</span><br><span class="line">1487</span><br><span class="line">1488</span><br><span class="line">1489</span><br><span class="line">1490</span><br><span class="line">1491</span><br><span class="line">1492</span><br><span class="line">1493</span><br><span class="line">1494</span><br><span class="line">1495</span><br><span class="line">1496</span><br><span class="line">1497</span><br><span class="line">1498</span><br><span class="line">1499</span><br><span class="line">1500</span><br><span class="line">1501</span><br><span class="line">1502</span><br><span class="line">1503</span><br><span class="line">1504</span><br><span class="line">1505</span><br><span class="line">1506</span><br><span class="line">1507</span><br><span class="line">1508</span><br><span class="line">1509</span><br><span class="line">1510</span><br><span class="line">1511</span><br><span class="line">1512</span><br><span class="line">1513</span><br><span class="line">1514</span><br><span class="line">1515</span><br><span class="line">1516</span><br><span class="line">1517</span><br><span class="line">1518</span><br><span class="line">1519</span><br><span class="line">1520</span><br><span class="line">1521</span><br><span class="line">1522</span><br><span class="line">1523</span><br><span class="line">1524</span><br><span class="line">1525</span><br><span class="line">1526</span><br><span class="line">1527</span><br><span class="line">1528</span><br><span class="line">1529</span><br><span class="line">1530</span><br><span class="line">1531</span><br><span class="line">1532</span><br><span class="line">1533</span><br><span class="line">1534</span><br><span class="line">1535</span><br><span class="line">1536</span><br><span class="line">1537</span><br><span class="line">1538</span><br><span class="line">1539</span><br><span class="line">1540</span><br><span class="line">1541</span><br><span class="line">1542</span><br><span class="line">1543</span><br><span class="line">1544</span><br><span class="line">1545</span><br><span class="line">1546</span><br><span class="line">1547</span><br><span class="line">1548</span><br><span class="line">1549</span><br><span class="line">1550</span><br><span class="line">1551</span><br><span class="line">1552</span><br><span class="line">1553</span><br><span class="line">1554</span><br><span class="line">1555</span><br><span class="line">1556</span><br><span class="line">1557</span><br><span class="line">1558</span><br><span class="line">1559</span><br><span class="line">1560</span><br><span class="line">1561</span><br><span class="line">1562</span><br><span class="line">1563</span><br><span class="line">1564</span><br><span class="line">1565</span><br><span class="line">1566</span><br><span class="line">1567</span><br><span class="line">1568</span><br><span class="line">1569</span><br><span class="line">1570</span><br><span class="line">1571</span><br><span class="line">1572</span><br><span class="line">1573</span><br><span class="line">1574</span><br><span class="line">1575</span><br><span class="line">1576</span><br><span class="line">1577</span><br><span class="line">1578</span><br><span class="line">1579</span><br><span class="line">1580</span><br><span class="line">1581</span><br><span class="line">1582</span><br><span class="line">1583</span><br><span class="line">1584</span><br><span class="line">1585</span><br><span class="line">1586</span><br><span class="line">1587</span><br><span class="line">1588</span><br><span class="line">1589</span><br><span class="line">1590</span><br><span class="line">1591</span><br><span class="line">1592</span><br><span class="line">1593</span><br><span class="line">1594</span><br><span class="line">1595</span><br><span class="line">1596</span><br><span class="line">1597</span><br><span class="line">1598</span><br><span class="line">1599</span><br><span class="line">1600</span><br><span class="line">1601</span><br><span class="line">1602</span><br><span class="line">1603</span><br><span class="line">1604</span><br><span class="line">1605</span><br><span class="line">1606</span><br><span class="line">1607</span><br><span class="line">1608</span><br><span class="line">1609</span><br><span class="line">1610</span><br><span class="line">1611</span><br><span class="line">1612</span><br><span class="line">1613</span><br><span class="line">1614</span><br><span class="line">1615</span><br><span class="line">1616</span><br><span class="line">1617</span><br><span class="line">1618</span><br><span class="line">1619</span><br><span class="line">1620</span><br><span class="line">1621</span><br><span class="line">1622</span><br><span class="line">1623</span><br><span class="line">1624</span><br><span class="line">1625</span><br><span class="line">1626</span><br><span class="line">1627</span><br><span class="line">1628</span><br><span class="line">1629</span><br><span class="line">1630</span><br><span class="line">1631</span><br><span class="line">1632</span><br><span class="line">1633</span><br><span class="line">1634</span><br><span class="line">1635</span><br><span class="line">1636</span><br><span class="line">1637</span><br><span class="line">1638</span><br><span class="line">1639</span><br><span class="line">1640</span><br><span class="line">1641</span><br><span class="line">1642</span><br><span class="line">1643</span><br><span class="line">1644</span><br><span class="line">1645</span><br><span class="line">1646</span><br><span class="line">1647</span><br><span class="line">1648</span><br><span class="line">1649</span><br><span class="line">1650</span><br><span class="line">1651</span><br><span class="line">1652</span><br><span class="line">1653</span><br><span class="line">1654</span><br><span class="line">1655</span><br><span class="line">1656</span><br><span class="line">1657</span><br><span class="line">1658</span><br><span class="line">1659</span><br><span class="line">1660</span><br><span class="line">1661</span><br><span class="line">1662</span><br><span class="line">1663</span><br><span class="line">1664</span><br><span class="line">1665</span><br><span class="line">1666</span><br><span class="line">1667</span><br><span class="line">1668</span><br><span class="line">1669</span><br><span class="line">1670</span><br><span class="line">1671</span><br><span class="line">1672</span><br><span class="line">1673</span><br><span class="line">1674</span><br><span class="line">1675</span><br><span class="line">1676</span><br><span class="line">1677</span><br><span class="line">1678</span><br><span class="line">1679</span><br><span class="line">1680</span><br><span class="line">1681</span><br><span class="line">1682</span><br><span class="line">1683</span><br><span class="line">1684</span><br><span class="line">1685</span><br><span class="line">1686</span><br><span class="line">1687</span><br><span class="line">1688</span><br><span class="line">1689</span><br><span class="line">1690</span><br><span class="line">1691</span><br><span class="line">1692</span><br><span class="line">1693</span><br><span class="line">1694</span><br><span class="line">1695</span><br><span class="line">1696</span><br><span class="line">1697</span><br><span class="line">1698</span><br><span class="line">1699</span><br><span class="line">1700</span><br><span class="line">1701</span><br><span class="line">1702</span><br><span class="line">1703</span><br><span class="line">1704</span><br><span class="line">1705</span><br><span class="line">1706</span><br><span class="line">1707</span><br><span class="line">1708</span><br><span class="line">1709</span><br><span class="line">1710</span><br><span class="line">1711</span><br><span class="line">1712</span><br><span class="line">1713</span><br><span class="line">1714</span><br><span class="line">1715</span><br><span class="line">1716</span><br><span class="line">1717</span><br><span class="line">1718</span><br><span class="line">1719</span><br><span class="line">1720</span><br><span class="line">1721</span><br><span class="line">1722</span><br><span class="line">1723</span><br><span class="line">1724</span><br><span class="line">1725</span><br><span class="line">1726</span><br><span class="line">1727</span><br><span class="line">1728</span><br><span class="line">1729</span><br><span class="line">1730</span><br><span class="line">1731</span><br><span class="line">1732</span><br><span class="line">1733</span><br><span class="line">1734</span><br><span class="line">1735</span><br><span class="line">1736</span><br><span class="line">1737</span><br><span class="line">1738</span><br><span class="line">1739</span><br><span class="line">1740</span><br><span class="line">1741</span><br><span class="line">1742</span><br><span class="line">1743</span><br><span class="line">1744</span><br><span class="line">1745</span><br><span class="line">1746</span><br><span class="line">1747</span><br><span class="line">1748</span><br><span class="line">1749</span><br><span class="line">1750</span><br><span class="line">1751</span><br><span class="line">1752</span><br><span class="line">1753</span><br><span class="line">1754</span><br><span class="line">1755</span><br><span class="line">1756</span><br><span class="line">1757</span><br><span class="line">1758</span><br><span class="line">1759</span><br><span class="line">1760</span><br><span class="line">1761</span><br><span class="line">1762</span><br><span class="line">1763</span><br><span class="line">1764</span><br><span class="line">1765</span><br><span class="line">1766</span><br><span class="line">1767</span><br><span class="line">1768</span><br><span class="line">1769</span><br><span class="line">1770</span><br><span class="line">1771</span><br><span class="line">1772</span><br><span class="line">1773</span><br><span class="line">1774</span><br><span class="line">1775</span><br><span class="line">1776</span><br><span class="line">1777</span><br><span class="line">1778</span><br><span class="line">1779</span><br><span class="line">1780</span><br><span class="line">1781</span><br><span class="line">1782</span><br><span class="line">1783</span><br><span class="line">1784</span><br><span class="line">1785</span><br><span class="line">1786</span><br><span class="line">1787</span><br><span class="line">1788</span><br><span class="line">1789</span><br><span class="line">1790</span><br><span class="line">1791</span><br><span class="line">1792</span><br><span class="line">1793</span><br><span class="line">1794</span><br><span class="line">1795</span><br><span class="line">1796</span><br><span class="line">1797</span><br><span class="line">1798</span><br><span class="line">1799</span><br><span class="line">1800</span><br><span class="line">1801</span><br><span class="line">1802</span><br><span class="line">1803</span><br><span class="line">1804</span><br><span class="line">1805</span><br><span class="line">1806</span><br><span class="line">1807</span><br><span class="line">1808</span><br><span class="line">1809</span><br><span class="line">1810</span><br><span class="line">1811</span><br><span class="line">1812</span><br><span class="line">1813</span><br><span class="line">1814</span><br><span class="line">1815</span><br><span class="line">1816</span><br><span class="line">1817</span><br><span class="line">1818</span><br><span class="line">1819</span><br><span class="line">1820</span><br><span class="line">1821</span><br><span class="line">1822</span><br><span class="line">1823</span><br><span class="line">1824</span><br><span class="line">1825</span><br><span class="line">1826</span><br><span class="line">1827</span><br><span class="line">1828</span><br><span class="line">1829</span><br><span class="line">1830</span><br><span class="line">1831</span><br><span class="line">1832</span><br><span class="line">1833</span><br><span class="line">1834</span><br><span class="line">1835</span><br><span class="line">1836</span><br><span class="line">1837</span><br><span class="line">1838</span><br><span class="line">1839</span><br><span class="line">1840</span><br><span class="line">1841</span><br><span class="line">1842</span><br><span class="line">1843</span><br><span class="line">1844</span><br><span class="line">1845</span><br><span class="line">1846</span><br><span class="line">1847</span><br><span class="line">1848</span><br><span class="line">1849</span><br><span class="line">1850</span><br><span class="line">1851</span><br><span class="line">1852</span><br><span class="line">1853</span><br><span class="line">1854</span><br><span class="line">1855</span><br><span class="line">1856</span><br><span class="line">1857</span><br><span class="line">1858</span><br><span class="line">1859</span><br><span class="line">1860</span><br><span class="line">1861</span><br><span class="line">1862</span><br><span class="line">1863</span><br><span class="line">1864</span><br><span class="line">1865</span><br><span class="line">1866</span><br><span class="line">1867</span><br><span class="line">1868</span><br><span class="line">1869</span><br><span class="line">1870</span><br><span class="line">1871</span><br><span class="line">1872</span><br><span class="line">1873</span><br><span class="line">1874</span><br><span class="line">1875</span><br><span class="line">1876</span><br><span class="line">1877</span><br><span class="line">1878</span><br><span class="line">1879</span><br><span class="line">1880</span><br><span class="line">1881</span><br><span class="line">1882</span><br><span class="line">1883</span><br><span class="line">1884</span><br><span class="line">1885</span><br><span class="line">1886</span><br><span class="line">1887</span><br><span class="line">1888</span><br><span class="line">1889</span><br><span class="line">1890</span><br><span class="line">1891</span><br><span class="line">1892</span><br><span class="line">1893</span><br><span class="line">1894</span><br><span class="line">1895</span><br><span class="line">1896</span><br><span class="line">1897</span><br><span class="line">1898</span><br><span class="line">1899</span><br><span class="line">1900</span><br><span class="line">1901</span><br><span class="line">1902</span><br><span class="line">1903</span><br><span class="line">1904</span><br><span class="line">1905</span><br><span class="line">1906</span><br><span class="line">1907</span><br><span class="line">1908</span><br><span class="line">1909</span><br><span class="line">1910</span><br><span class="line">1911</span><br><span class="line">1912</span><br><span class="line">1913</span><br><span class="line">1914</span><br><span class="line">1915</span><br><span class="line">1916</span><br><span class="line">1917</span><br><span class="line">1918</span><br><span class="line">1919</span><br><span class="line">1920</span><br><span class="line">1921</span><br><span class="line">1922</span><br><span class="line">1923</span><br><span class="line">1924</span><br><span class="line">1925</span><br><span class="line">1926</span><br><span class="line">1927</span><br><span class="line">1928</span><br><span class="line">1929</span><br><span class="line">1930</span><br><span class="line">1931</span><br><span class="line">1932</span><br><span class="line">1933</span><br><span class="line">1934</span><br><span class="line">1935</span><br><span class="line">1936</span><br><span class="line">1937</span><br><span class="line">1938</span><br><span class="line">1939</span><br><span class="line">1940</span><br><span class="line">1941</span><br><span class="line">1942</span><br><span class="line">1943</span><br><span class="line">1944</span><br><span class="line">1945</span><br><span class="line">1946</span><br><span class="line">1947</span><br><span class="line">1948</span><br><span class="line">1949</span><br><span class="line">1950</span><br><span class="line">1951</span><br><span class="line">1952</span><br><span class="line">1953</span><br><span class="line">1954</span><br><span class="line">1955</span><br><span class="line">1956</span><br><span class="line">1957</span><br><span class="line">1958</span><br><span class="line">1959</span><br><span class="line">1960</span><br><span class="line">1961</span><br><span class="line">1962</span><br><span class="line">1963</span><br><span class="line">1964</span><br><span class="line">1965</span><br><span class="line">1966</span><br><span class="line">1967</span><br><span class="line">1968</span><br><span class="line">1969</span><br><span class="line">1970</span><br><span class="line">1971</span><br><span class="line">1972</span><br><span class="line">1973</span><br><span class="line">1974</span><br><span class="line">1975</span><br><span class="line">1976</span><br><span class="line">1977</span><br><span class="line">1978</span><br><span class="line">1979</span><br><span class="line">1980</span><br><span class="line">1981</span><br><span class="line">1982</span><br><span class="line">1983</span><br><span class="line">1984</span><br><span class="line">1985</span><br><span class="line">1986</span><br><span class="line">1987</span><br><span class="line">1988</span><br><span class="line">1989</span><br><span class="line">1990</span><br><span class="line">1991</span><br><span class="line">1992</span><br><span class="line">1993</span><br><span class="line">1994</span><br><span class="line">1995</span><br><span class="line">1996</span><br><span class="line">1997</span><br><span class="line">1998</span><br><span class="line">1999</span><br><span class="line">2000</span><br><span class="line">2001</span><br><span class="line">2002</span><br><span class="line">2003</span><br><span class="line">2004</span><br><span class="line">2005</span><br><span class="line">2006</span><br><span class="line">2007</span><br><span class="line">2008</span><br><span class="line">2009</span><br><span class="line">2010</span><br><span class="line">2011</span><br><span class="line">2012</span><br><span class="line">2013</span><br><span class="line">2014</span><br><span class="line">2015</span><br><span class="line">2016</span><br><span class="line">2017</span><br><span class="line">2018</span><br><span class="line">2019</span><br><span class="line">2020</span><br><span class="line">2021</span><br><span class="line">2022</span><br><span class="line">2023</span><br><span class="line">2024</span><br><span class="line">2025</span><br><span class="line">2026</span><br><span class="line">2027</span><br><span class="line">2028</span><br><span class="line">2029</span><br><span class="line">2030</span><br><span class="line">2031</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#</span>!/usr/bin/env bash</span><br><span class="line"><span class="meta">#</span> https://youxiu.net/</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Semi-automated deployment flowable</span><br><span class="line"><span class="meta">#</span> 2020.01.31</span><br><span class="line"><span class="meta">#</span> This script needs to be in the same parent directory as the folder</span><br><span class="line"><span class="meta">#</span> This script needs to be in the same parent directory as the folder</span><br><span class="line"><span class="meta">#</span> This script needs to be in the same parent directory as the folder</span><br><span class="line"><span class="meta">#</span> This script needs to be in the same parent directory as the folder</span><br><span class="line"></span><br><span class="line">PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</span><br><span class="line">export PATH</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> define a group color</span><br><span class="line">red='\033[0;31m'</span><br><span class="line">green='\033[0;32m'</span><br><span class="line">yellow='\033[0;33m'</span><br><span class="line">plain='\033[0m'</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> by root</span><br><span class="line">[[ $EUID -ne 0 ]] &amp;&amp; echo -e "[$&#123;red&#125;Error$&#123;plain&#125;] This script must be run as root!" &amp;&amp; exit 1</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> I get a compressed package</span><br><span class="line"></span><br><span class="line">CURDIR=$(</span><br><span class="line">cd $(dirname $&#123;BASH_SOURCE[0]&#125;)</span><br><span class="line">pwd</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">rm -rf flowable-6.3.0</span><br><span class="line">unzip flowable-6.3.0.zip</span><br><span class="line"></span><br><span class="line">cd $CURDIR/flowable-6.3.0</span><br><span class="line"></span><br><span class="line">echo "Go into the folder and create a folder"</span><br><span class="line">cd wars</span><br><span class="line">mkdir flowable-admin &amp;&amp; mv flowable-admin.war flowable-admin</span><br><span class="line">mkdir flowable-idm &amp;&amp; mv flowable-idm.war flowable-idm</span><br><span class="line">mkdir flowable-modeler &amp;&amp; mv flowable-modeler.war flowable-modeler</span><br><span class="line">mkdir flowable-rest &amp;&amp; mv flowable-rest.war flowable-rest</span><br><span class="line">mkdir flowable-task &amp;&amp; mv flowable-task.war flowable-task</span><br><span class="line"></span><br><span class="line">echo "Folder created and processed successfully"</span><br><span class="line">cd flowable-admin &amp;&amp; jar -xvf flowable-admin.war</span><br><span class="line">echo "flowable-admin.war unzip successfully"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> come back</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">cd flowable-idm &amp;&amp; jar -xvf flowable-idm.war</span><br><span class="line">echo "flowable-idm.war unzip successfully"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> come back</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">cd flowable-modeler &amp;&amp; jar -xvf flowable-modeler.war</span><br><span class="line">echo "flowable-modeler.war unzip successfully"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> come back</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">cd flowable-rest &amp;&amp; jar -xvf flowable-rest.war</span><br><span class="line">echo "flowable-rest.war unzip successfully"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> come back</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">cd flowable-task &amp;&amp; jar -xvf flowable-task.war</span><br><span class="line">echo "flowable-task.war unzip successfully"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> back to ../wars/</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">: &lt;&lt;!</span><br><span class="line">As the custom properties in the application.properties file cannot be controlled, </span><br><span class="line">the processing method here is to delete the original file, </span><br><span class="line">create a new file, </span><br><span class="line">and obtain the necessary properties from the user input.</span><br><span class="line">!</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> current dir2</span><br><span class="line"><span class="meta">#</span> CURDIR2=$(cd $(dirname $&#123;BASH_SOURCE[0]&#125;); pwd )</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> echo $CURDIR2</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>---------------------------------------------------------------------------------------flowable-admin-----------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span> have an application.properties</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line">cd flowable-admin/WEB-INF/classes</span><br><span class="line">rm -rf application.properties</span><br><span class="line">touch application1.properties</span><br><span class="line"></span><br><span class="line">echo -n "[1]please input the server.port = ? (default is 9988)"</span><br><span class="line">read port</span><br><span class="line">if [[ $port == "" ]]; then</span><br><span class="line">port='9988'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "your server.port is $port"</span><br><span class="line"></span><br><span class="line">echo -n "[2]please input the context-path = ? (default is /flowable-admin)"</span><br><span class="line">read contextPath</span><br><span class="line">if [[ $contextPath == "" ]]; then</span><br><span class="line">contextPath='/flowable-admin'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[3]please input the jmx.unique-names = ? (default is true)"</span><br><span class="line">read jmxUniqueNames</span><br><span class="line">if [[ $jmxUniqueNames == "" ]]; then</span><br><span class="line">jmxUniqueNames='true'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[4]please input the proxy-target-class = ? (default is true)"</span><br><span class="line">read proxyTargetClass</span><br><span class="line">if [[ $proxyTargetClass ]]; then</span><br><span class="line">proxyTargetClass='true'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[5]please input the spring.aop.auto = ? (default is true)"</span><br><span class="line">read auto</span><br><span class="line">if [[ $auto == "" ]]; then</span><br><span class="line">auto='true'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[6]please input the spring.application.name = ? (default is flowable-ui-admin)"</span><br><span class="line">read applicationName</span><br><span class="line">if [[ $applicationName == "" ]]; then</span><br><span class="line">applicationName='flowable-ui-admin'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[7]please input the liquibase.enabled = ? (default is false!!!)"</span><br><span class="line">read liquibaseEnabled</span><br><span class="line">if [[ $liquibaseEnabled == "" ]]; then</span><br><span class="line">liquibaseEnabled='false'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[8]please input the servlet.multipart.max-file-size = ? (default is 10MB)"</span><br><span class="line">read multipartMaxFileSize</span><br><span class="line">if [[ $multipartMaxFileSize == "" ]]; then</span><br><span class="line">multipartMaxFileSize='10MB'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[9]please input the spring.banner.location = ? (default is classpath:/org/flowable/spring/boot/flowable-banner.txt)"</span><br><span class="line">read bannerLocation</span><br><span class="line">if [[ $bannerLocation == "" ]]; then</span><br><span class="line">bannerLocation='classpath:/org/flowable/spring/boot/flowable-banner.txt'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[10]please input the management.endpoints.web.exposure.include = ? (default is *)"</span><br><span class="line">read webExposureInclude</span><br><span class="line">if [[ $webExposureInclude == "" ]]; then</span><br><span class="line">webExposureInclude='*'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[11]please input the management.endpoint.health.show-details = ? (default is when_authorized) "</span><br><span class="line">read healthShowDeails</span><br><span class="line">if [[ $healthShowDeails == "" ]]; then</span><br><span class="line">healthShowDeails='when_authorized'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[12]please input management.endpoint.health.roles = ? (default is access-admin)"</span><br><span class="line">read healthRoles</span><br><span class="line">if [[ $healthRoles == "" ]]; then</span><br><span class="line">healthRoles='access-admin'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[13]please input the MySQL server host ip = ? (default is 127.0.0.1)"</span><br><span class="line">read MySQLHostIp</span><br><span class="line">if [[ $MySQLHostIp == "" ]]; then</span><br><span class="line">MySQLHostIp='127.0.0.1'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[14]please input the MySQL server host port = ? (default is 3306)"</span><br><span class="line">read MySQLHostPort</span><br><span class="line">if [[ $MySQLHostPort == "" ]]; then</span><br><span class="line">MySQLHostPort='3306'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[15]please input the MySQL database name = ? (default is flowable)"</span><br><span class="line">read datasourceName</span><br><span class="line">if [[ $datasourceName == "" ]]; then</span><br><span class="line">datasourceName='flowable'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[16]please input the MySQL database character encoding name = ? (default is UTF-8)"</span><br><span class="line">read characterEncoding</span><br><span class="line">if [[ $characterEncoding == "" ]]; then</span><br><span class="line">characterEncoding='UTF-8'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[17]please input the spring.datasource.username = ? (default is root)"</span><br><span class="line">read datasourceUsername</span><br><span class="line">if [[ $datasourceUsername == "" ]]; then</span><br><span class="line">datasourceUsername='root'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[18]please input the spring.datasource.password = ? (default is 123456)"</span><br><span class="line">read datasourcePassword</span><br><span class="line">if [[ $datasourcePassword == "" ]]; then</span><br><span class="line">datasourcePassword='123456'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Process engine Info</span><br><span class="line"></span><br><span class="line">echo -n "[19]please input the server-config.process.name = ? (default is Flowable Process app)"</span><br><span class="line">read processName</span><br><span class="line">if [[ $processName == "" ]]; then</span><br><span class="line">processName='Flowable Process app'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[20]please input the server-config.process.description = ? (default is Flowable Process REST config)"</span><br><span class="line">read processDescription</span><br><span class="line">if [[ $processDescription == "" ]]; then</span><br><span class="line">processDescription='Flowable Process REST config'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[21]please input the server-config.process.server-address = ? (default is http://localhost)"</span><br><span class="line">read processServerAddress</span><br><span class="line">if [[ $processServerAddress == "" ]]; then</span><br><span class="line">processServerAddress='http://localhost'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[22]please input the server-config.process.port = ? (default is 8080)"</span><br><span class="line">read processPort</span><br><span class="line">if [[ $processPort == "" ]]; then</span><br><span class="line">processPort='8080'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[23]please input the server-config.process.context-root = ? (default is flowable-task)"</span><br><span class="line">read processContextRoot</span><br><span class="line">if [[ $processContextRoot == "" ]]; then</span><br><span class="line">processContextRoot='flowable-task'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[24]please input the server-config.process.rest-root = ? (default is process-api)"</span><br><span class="line">read processRestRoot</span><br><span class="line">if [[ $processRestRoot == "" ]]; then</span><br><span class="line">processRestRoot='process-api'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[25]please input the server-config.process.user-name = ? (default is admin)"</span><br><span class="line">read processUserName</span><br><span class="line">if [[ $processUserName == "" ]]; then</span><br><span class="line">processUserName='admin'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[26]please input the server-config.process.password = ? (default is test)"</span><br><span class="line">read processPassword</span><br><span class="line">if [[ $processPassword == "" ]]; then</span><br><span class="line">processPassword='test'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> CMMN engine</span><br><span class="line"></span><br><span class="line">echo -n "[27]please input the server-config.cmmn.name = ? (default is Flowable CMMN app)"</span><br><span class="line">read cmmnName</span><br><span class="line">if [[ $cmmnName == "" ]]; then</span><br><span class="line">cmmnName='Flowable CMMN app'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[28]please input the server-config.cmmn.description = ? (default is Flowable CMMN REST config)"</span><br><span class="line">read cmmnDescription</span><br><span class="line">if [[ $cmmnDescription == "" ]]; then</span><br><span class="line">cmmnDescription='Flowable CMMN REST config'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[29]please input the server-config.cmmn.server-address = ? (default is http://localhost)"</span><br><span class="line">read cmmnServerAddress</span><br><span class="line">if [[ $cmmnServerAddress == "" ]]; then</span><br><span class="line">cmmnServerAddress='http://localhost'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[30]please input the server-config.cmmn.port = ? (default is 8080)"</span><br><span class="line">read cmmnPort</span><br><span class="line">if [[ $cmmnPort == "" ]]; then</span><br><span class="line">cmmnPort='8080'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[31]please input the server-config.cmmn.context-root = ? (default is flowable-task)"</span><br><span class="line">read cmmnContextRoot</span><br><span class="line">if [[ $cmmnContextRoot == "" ]]; then</span><br><span class="line">cmmnContextRoot='flowable-task'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[32]please input the server-config.cmmn.rest-root = ? (default is cmmn-api)"</span><br><span class="line">read cmmnRestRoot</span><br><span class="line">if [[ $cmmnRestRoot == "" ]]; then</span><br><span class="line">cmmnRestRoot='cmmn-api'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[33]please input the server-config.cmmn.user-name = ? (default is admin)"</span><br><span class="line">read cmmnUserName</span><br><span class="line">if [[ $cmmnUserName == "" ]]; then</span><br><span class="line">cmmnUserName='admin'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[34]please input the server-config.cmmn.password = ? (default is test)"</span><br><span class="line">read cmmnPassword</span><br><span class="line">if [[ $cmmnPassword == "" ]]; then</span><br><span class="line">cmmnPassword='test'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> DMN engine</span><br><span class="line"></span><br><span class="line">echo -n "[35]please input the server-config.dmn.name = ? (default is Flowable DMN app)"</span><br><span class="line">read dmnName</span><br><span class="line">if [[ $dmnName == "" ]]; then</span><br><span class="line">dmnName='Flowable DMN app'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[36]please input the server-config.dmn.description = ? (default is Flowable DMN REST config)"</span><br><span class="line">read dmnDescription</span><br><span class="line">if [[ $dmnDescription == "" ]]; then</span><br><span class="line">dmnDescription='Flowable DMN REST config'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[37]please input the server-config.dmn.server-address = ? (default is http://localhost)"</span><br><span class="line">read dmnServerAddress</span><br><span class="line">if [[ $dmnServerAddress == "" ]]; then</span><br><span class="line">dmnServerAddress='http://localhost'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[38]please input the server-config.dmn.port = ? (default is 8080)"</span><br><span class="line">read dmnPort</span><br><span class="line">if [[ $dmnPort == "" ]]; then</span><br><span class="line">dmnPort='8080'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[39]please input the server-config.dmn.context-root = ? (default is flowable-task)"</span><br><span class="line">read dmnContextRoot</span><br><span class="line">if [[ $dmnContextRoot == "" ]]; then</span><br><span class="line">dmnContextRoot='flowable-task'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[40]please input the server-config.dmn.rest-root = ? (default is dmn-api)"</span><br><span class="line">read dmnRestRoot</span><br><span class="line">if [[ $dmnRestRoot == "" ]]; then</span><br><span class="line">dmnRestRoot='dmn-api'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[41]please input the server-config.dmn.user-name = ? (default is admin)"</span><br><span class="line">read dmnUserName</span><br><span class="line">if [[ $dmnUserName == "" ]]; then</span><br><span class="line">dmnUserName='admin'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[42]please input the server-config.dmn.password = ? (default is test)"</span><br><span class="line">read dmnPassword</span><br><span class="line">if [[ $dmnPassword == "" ]]; then</span><br><span class="line">dmnPassword='test'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Form engine</span><br><span class="line"></span><br><span class="line">echo -n "[43]please input the server-config.form.name = ? (default is Flowable Form app)"</span><br><span class="line">read formName</span><br><span class="line">if [[ $formName == "" ]]; then</span><br><span class="line">formName='Flowable Form app'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[44]please input the server-config.form.description = ? (default is Flowable Form REST config)"</span><br><span class="line">read formDescription</span><br><span class="line">if [[ $formDescription == "" ]]; then</span><br><span class="line">formDescription='Flowable Form REST config'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[45]please input the server-config.form.server-address = ? (default is http://localhost)"</span><br><span class="line">read formServerAddress</span><br><span class="line">if [[ $formServerAddress == "" ]]; then</span><br><span class="line">formServerAddress='http://localhost'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[46]please input the server-config.form.port = ? (default is 8080)"</span><br><span class="line">read formPort</span><br><span class="line">if [[ $formPort == "" ]]; then</span><br><span class="line">formPort='8080'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[47]please input the server-config.form.context-root = ? (default is flowable-task)"</span><br><span class="line">read formContextRoot</span><br><span class="line">if [[ $formContextRoot == "" ]]; then</span><br><span class="line">formContextRoot='flowable-task'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[48]please input the server-config.form.rest-root = ? (default is form-api)"</span><br><span class="line">read formRestRoot</span><br><span class="line">if [[ $formRestRoot == "" ]]; then</span><br><span class="line">formRestRoot='form-api'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[49]please input the server-config.form.user-name = ? (default is admin)"</span><br><span class="line">read formUserName</span><br><span class="line">if [[ $formUserName == "" ]]; then</span><br><span class="line">formUserName='admin'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[50]please input the server-config.form.password = ? (default is test)"</span><br><span class="line">read formPassword</span><br><span class="line">if [[ $formPassword == "" ]]; then</span><br><span class="line">formPassword='test'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Content engine</span><br><span class="line"></span><br><span class="line">echo -n "[51]please input the server-config.content.name = ? (default is Flowable Content app)"</span><br><span class="line">read contentName</span><br><span class="line">if [[ $contentName == "" ]]; then</span><br><span class="line">contentName='Flowable Content app'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[52]please input the server-config.content.description = ? (default is Flowable Content REST config)"</span><br><span class="line">read contentDescription</span><br><span class="line">if [[ $contentDescription == "" ]]; then</span><br><span class="line">contentDescription='Flowable Content REST config'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[53]please input the server-config.content.server-address = ? (default is http://localhost)"</span><br><span class="line">read contentServerAddress</span><br><span class="line">if [[ $contentServerAddress == "" ]]; then</span><br><span class="line">contentServerAddress='http://localhost'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[54]please input the server-config.content.port = ? (default is 8080)"</span><br><span class="line">read contentPort</span><br><span class="line">if [[ $contentPort == "" ]]; then</span><br><span class="line">contentPort='8080'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[55]please input the server-config.content.context-root = ? (default is flowable-task)"</span><br><span class="line">read contentContextRoot</span><br><span class="line">if [[ $contentContextRoot == "" ]]; then</span><br><span class="line">contentContextRoot='flowable-task'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[56]please input the server-config.content.rest-root = ? (default is content-api)"</span><br><span class="line">read contentRestRoot</span><br><span class="line">if [[ $contentRestRoot == "" ]]; then</span><br><span class="line">contentRestRoot='content-api'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[57]please input the server-config.content.user-name = ? (default is admin)"</span><br><span class="line">read contentUserName</span><br><span class="line">if [[ $contentUserName == "" ]]; then</span><br><span class="line">contentUserName='admin'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[58]please input the server-config.content.password = ? (default is test)"</span><br><span class="line">read contentPassword</span><br><span class="line">if [[ $contentPassword == "" ]]; then</span><br><span class="line">contentPassword='test'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> IDM Info</span><br><span class="line"></span><br><span class="line">echo -n "[59]please input the flowable.common.app.idm-url.ip = ? (default is localhost)"</span><br><span class="line">read appIdmUrlIp</span><br><span class="line">if [[ $appIdmUrlIp == "" ]]; then</span><br><span class="line">appIdmUrlIp='localhost'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[60]please input the flowable.common.app.idm-url.port = ? (default is 8080)"</span><br><span class="line">read appIdmUrlPort</span><br><span class="line">if [[ $appIdmUrlPort == "" ]]; then</span><br><span class="line">appIdmUrlPort='8080'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[61]please input the flowable.common.app.idm-admin.user = ? (default is admin)"</span><br><span class="line">read appIdmAdminUser</span><br><span class="line">if [[ $appIdmAdminUser == "" ]]; then</span><br><span class="line">appIdmAdminUser='admin'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[62]please input the flowable.common.app.idm-admin.password = ? (default is test)"</span><br><span class="line">read appIdmAdminPassoword</span><br><span class="line">if [[ $appIdmAdminPassoword == "" ]]; then</span><br><span class="line">appIdmAdminPassoword='test'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "confirm，if wrong, please choice 'n' to fix it !, input y/n:"</span><br><span class="line"></span><br><span class="line">read flag</span><br><span class="line">while [[ $flag == "n" ]]; do</span><br><span class="line">echo 'input number 1 to 62'</span><br><span class="line">echo 'your number is'</span><br><span class="line">read aNum</span><br><span class="line">case $aNum in</span><br><span class="line">1)</span><br><span class="line">echo 'number is 1, please fix your [port] current!'</span><br><span class="line">read line1</span><br><span class="line">port=$line1</span><br><span class="line">;;</span><br><span class="line">2)</span><br><span class="line">echo 'number is 2, please fix your [context-path] current!'</span><br><span class="line">read line2</span><br><span class="line">contextPath=$line2</span><br><span class="line">;;</span><br><span class="line">3)</span><br><span class="line">echo 'number is 3, please fix your [jmx.unique-names] current!'</span><br><span class="line">read line3</span><br><span class="line">jmxUniqueNames=$line3</span><br><span class="line">;;</span><br><span class="line">4)</span><br><span class="line">echo 'number is 4, please fix your [proxy-target-class] current!'</span><br><span class="line">read line4</span><br><span class="line">proxyTargetClass=$line4</span><br><span class="line">;;</span><br><span class="line">5)</span><br><span class="line">echo 'number is 5, please fix your [spring.aop.auto] current!'</span><br><span class="line">read line5</span><br><span class="line">auto=$line5</span><br><span class="line">;;</span><br><span class="line">6)</span><br><span class="line">echo 'number is 6, please fix your [spring.application.name] current!'</span><br><span class="line">read line6</span><br><span class="line">applicationName=$line6</span><br><span class="line">;;</span><br><span class="line">7)</span><br><span class="line">echo 'number is 7, please fix your [liquibase.enabled] current!'</span><br><span class="line">read line7</span><br><span class="line">liquibaseEnabled=$line7</span><br><span class="line">;;</span><br><span class="line">8)</span><br><span class="line">echo 'number is 8, please fix your [servlet.multipart.max-file-size] current!'</span><br><span class="line">read line8</span><br><span class="line">multipartMaxFileSize=$line8</span><br><span class="line">;;</span><br><span class="line">9)</span><br><span class="line">echo 'number is 9, please fix your [spring.banner.location] current!'</span><br><span class="line">read line9</span><br><span class="line">bannerLocation=$line9</span><br><span class="line">;;</span><br><span class="line">10)</span><br><span class="line">echo 'number is 10, please fix your [management.endpoints.web.exposure.include] current!'</span><br><span class="line">read line10</span><br><span class="line">webExposureInclude=$line10</span><br><span class="line">;;</span><br><span class="line">11)</span><br><span class="line">echo 'number is 11, please fix your [management.endpoint.health.show-details] current!'</span><br><span class="line">read line11</span><br><span class="line">healthShowDeails=$line11</span><br><span class="line">;;</span><br><span class="line">12)</span><br><span class="line">echo 'number is 12, please fix your [management.endpoint.health.roles] current!'</span><br><span class="line">read line12</span><br><span class="line">healthRoles=$line12</span><br><span class="line">;;</span><br><span class="line">13)</span><br><span class="line">echo 'number is 13, please fix your [the MySQL server host ip] current!'</span><br><span class="line">read line13</span><br><span class="line">MySQLHostIp=$line13</span><br><span class="line">;;</span><br><span class="line">14)</span><br><span class="line">echo 'number is 14, please fix your [the MySQL server host port] current!'</span><br><span class="line">read line14</span><br><span class="line">MySQLHostPort=$line14</span><br><span class="line">;;</span><br><span class="line">15)</span><br><span class="line">echo 'number is 15, please fix your [the MySQL database name] current!'</span><br><span class="line">read line15</span><br><span class="line">datasourceName=$line15</span><br><span class="line">;;</span><br><span class="line">16)</span><br><span class="line">echo 'number is 16, please fix your [the MySQL database character encoding name] current!'</span><br><span class="line">read line16</span><br><span class="line">characterEncoding=$line16</span><br><span class="line">;;</span><br><span class="line">17)</span><br><span class="line">echo 'number is 17, please fix your [spring.datasource.username] current!'</span><br><span class="line">read line17</span><br><span class="line">datasourceUsername=$line17</span><br><span class="line">;;</span><br><span class="line">18)</span><br><span class="line">echo 'number is 18, please fix your [spring.datasource.password] current!'</span><br><span class="line">read line18</span><br><span class="line">datasourcePassword=$line18</span><br><span class="line">;;</span><br><span class="line">19)</span><br><span class="line">echo 'number is 19, please fix your [server-config.process.name] current!'</span><br><span class="line">read line19</span><br><span class="line">processName=$line19</span><br><span class="line">;;</span><br><span class="line">20)</span><br><span class="line">echo 'number is 20, please fix your [the server-config.process.description] current!'</span><br><span class="line">read line20</span><br><span class="line">processDescription=$line20</span><br><span class="line">;;</span><br><span class="line">21)</span><br><span class="line">echo 'number is 21, please fix your [the server-config.process.server-address] current!'</span><br><span class="line">read line21</span><br><span class="line">processServerAddress=$line21</span><br><span class="line">;;</span><br><span class="line">22)</span><br><span class="line">echo 'number is 22, please fix your [the server-config.process.port] current!'</span><br><span class="line">read line22</span><br><span class="line">processPort=$line22</span><br><span class="line">;;</span><br><span class="line">23)</span><br><span class="line">echo 'number is 23, please fix your [the server-config.process.context-root] current!'</span><br><span class="line">read line23</span><br><span class="line">processContextRoot=$line23</span><br><span class="line">;;</span><br><span class="line">24)</span><br><span class="line">echo 'number is 24, please fix your [the server-config.process.rest-root] current!'</span><br><span class="line">read line24</span><br><span class="line">processRestRoot=$line24</span><br><span class="line">;;</span><br><span class="line">25)</span><br><span class="line">echo 'number is 25, please fix your [the server-config.process.user-name] current!'</span><br><span class="line">read line25</span><br><span class="line">processUserName=$line25</span><br><span class="line">;;</span><br><span class="line">26)</span><br><span class="line">echo 'number is 26, please fix your [the server-config.process.password] current!'</span><br><span class="line">read line26</span><br><span class="line">processPassword=$line26</span><br><span class="line">;;</span><br><span class="line">27)</span><br><span class="line">echo 'number is 27, please fix your [the server-config.cmmn.name] current!'</span><br><span class="line">read line27</span><br><span class="line">cmmnName=$line27</span><br><span class="line">;;</span><br><span class="line">28)</span><br><span class="line">echo 'number is 28, please fix your [the server-config.cmmn.description] current!'</span><br><span class="line">read line28</span><br><span class="line">cmmnDescription=$line28</span><br><span class="line">;;</span><br><span class="line">29)</span><br><span class="line">echo 'number is 29, please fix your [the server-config.cmmn.server-address] current!'</span><br><span class="line">read line29</span><br><span class="line">cmmnServerAddress=$line29</span><br><span class="line">;;</span><br><span class="line">30)</span><br><span class="line">echo 'number is 30, please fix your [the server-config.cmmn.port] current!'</span><br><span class="line">read line30</span><br><span class="line">cmmnPort=$line30</span><br><span class="line">;;</span><br><span class="line">31)</span><br><span class="line">echo 'number is 31, please fix your [the server-config.cmmn.context-root] current!'</span><br><span class="line">read line31</span><br><span class="line">cmmnContextRoot=$line31</span><br><span class="line">;;</span><br><span class="line">32)</span><br><span class="line">echo 'number is 32, please fix your [the server-config.cmmn.rest-root] current!'</span><br><span class="line">read line32</span><br><span class="line">cmmnRestRoot=$line32</span><br><span class="line">;;</span><br><span class="line">33)</span><br><span class="line">echo 'number is 33, please fix your [the server-config.cmmn.user-name] current!'</span><br><span class="line">read line33</span><br><span class="line">cmmnUserName=$line33</span><br><span class="line">;;</span><br><span class="line">34)</span><br><span class="line">echo 'number is 34, please fix your [the server-config.cmmn.password] current!'</span><br><span class="line">read line34</span><br><span class="line">cmmnPassword=$line34</span><br><span class="line">;;</span><br><span class="line">35)</span><br><span class="line">echo 'number is 35, please fix your [server-config.dmn.name] current!'</span><br><span class="line">read line35</span><br><span class="line">dmnName=$line35</span><br><span class="line">;;</span><br><span class="line">36)</span><br><span class="line">echo 'number is 36, please fix your [server-config.dmn.description] current!'</span><br><span class="line">read line36</span><br><span class="line">dmnDescription=$line36</span><br><span class="line">;;</span><br><span class="line">37)</span><br><span class="line">echo 'number is 37, please fix your [server-config.dmn.server-address] current!'</span><br><span class="line">read line37</span><br><span class="line">dmnServerAddress=$line37</span><br><span class="line">;;</span><br><span class="line">38)</span><br><span class="line">echo 'number is 38, please fix your [server-config.dmn.port] current!'</span><br><span class="line">read line38</span><br><span class="line">dmnPort=$line38</span><br><span class="line">;;</span><br><span class="line">39)</span><br><span class="line">echo 'number is 39, please fix your [server-config.dmn.context-root] current!'</span><br><span class="line">read line39</span><br><span class="line">dmnContextRoot=$line39</span><br><span class="line">;;</span><br><span class="line">40)</span><br><span class="line">echo 'number is 40, please fix your [server-config.dmn.rest-root] current!'</span><br><span class="line">read line40</span><br><span class="line">dmnRestRoot=$line40</span><br><span class="line">;;</span><br><span class="line">41)</span><br><span class="line">echo 'number is 41, please fix your [server-config.dmn.user-name] current!'</span><br><span class="line">read line41</span><br><span class="line">dmnUserName=$line41</span><br><span class="line">;;</span><br><span class="line">42)</span><br><span class="line">echo 'number is 42, please fix your [server-config.dmn.password] current!'</span><br><span class="line">read line42</span><br><span class="line">dmnPassword=$line42</span><br><span class="line">;;</span><br><span class="line">43)</span><br><span class="line">echo 'number is 43, please fix your [server-config.form.name] current!'</span><br><span class="line">read line43</span><br><span class="line">formName=$line43</span><br><span class="line">;;</span><br><span class="line">44)</span><br><span class="line">echo 'number is 44, please fix your [server-config.form.description] current!'</span><br><span class="line">read line44</span><br><span class="line">formDescription=$line44</span><br><span class="line">;;</span><br><span class="line">45)</span><br><span class="line">echo 'number is 45, please fix your [server-config.form.server-address] current!'</span><br><span class="line">read line45</span><br><span class="line">formServerAddress=$line45</span><br><span class="line">;;</span><br><span class="line">46)</span><br><span class="line">echo 'number is 46, please fix your [server-config.form.port] current!'</span><br><span class="line">read line46</span><br><span class="line">formPort=$line46</span><br><span class="line">;;</span><br><span class="line">47)</span><br><span class="line">echo 'number is 47, please fix your [server-config.form.context-root] current!'</span><br><span class="line">read line47</span><br><span class="line">formContextRoot=$line47</span><br><span class="line">;;</span><br><span class="line">48)</span><br><span class="line">echo 'number is 48, please fix your [server-config.form.rest-root] current!'</span><br><span class="line">read line48</span><br><span class="line">formRestRoot=$line48</span><br><span class="line">;;</span><br><span class="line">49)</span><br><span class="line">echo 'number is 49, please fix your [server-config.form.user-name] current!'</span><br><span class="line">read line49</span><br><span class="line">formUserName=$line49</span><br><span class="line">;;</span><br><span class="line">50)</span><br><span class="line">echo 'number is 50, please fix your [server-config.form.password] current!'</span><br><span class="line">read line50</span><br><span class="line">formPassword=$line50</span><br><span class="line">;;</span><br><span class="line">51)</span><br><span class="line">echo 'number is 51, please fix your [server-config.content.name] current!'</span><br><span class="line">read line51</span><br><span class="line">contentName=$line51</span><br><span class="line">;;</span><br><span class="line">52)</span><br><span class="line">echo 'number is 52, please fix your [server-config.content.description] current!'</span><br><span class="line">read line52</span><br><span class="line">contentDescription=$line52</span><br><span class="line">;;</span><br><span class="line">53)</span><br><span class="line">echo 'number is 53, please fix your [server-config.content.server-address] current!'</span><br><span class="line">read line53</span><br><span class="line">contentServerAddress=$line53</span><br><span class="line">;;</span><br><span class="line">54)</span><br><span class="line">echo 'number is 54, please fix your [server-config.content.port] current!'</span><br><span class="line">read line54</span><br><span class="line">contentPort=$line54</span><br><span class="line">;;</span><br><span class="line">55)</span><br><span class="line">echo 'number is 55, please fix your [server-config.content.context-root] current!'</span><br><span class="line">read line55</span><br><span class="line">contentContextRoot=$line55</span><br><span class="line">;;</span><br><span class="line">56)</span><br><span class="line">echo 'number is 56, please fix your [server-config.content.rest-root] current!'</span><br><span class="line">read line56</span><br><span class="line">contentRestRoot=$line56</span><br><span class="line">;;</span><br><span class="line">57)</span><br><span class="line">echo 'number is 57, please fix your [server-config.content.user-name] current!'</span><br><span class="line">read line57</span><br><span class="line">contentUserName=$line57</span><br><span class="line">;;</span><br><span class="line">58)</span><br><span class="line">echo 'number is 58, please fix your [server-config.content.password] current!'</span><br><span class="line">read line58</span><br><span class="line">contentPassword=$line58</span><br><span class="line">;;</span><br><span class="line">59)</span><br><span class="line">echo 'number is 59, please fix your [flowable.common.app.idm-url.ip] current!'</span><br><span class="line">read line59</span><br><span class="line">appIdmUrlIp=$line59</span><br><span class="line">;;</span><br><span class="line">60)</span><br><span class="line">echo 'number is 60, please fix your [flowable.common.app.idm-url.port] current!'</span><br><span class="line">read line60</span><br><span class="line">appIdmUrlPort=$line60</span><br><span class="line">;;</span><br><span class="line">61)</span><br><span class="line">echo 'number is 61, please fix your [flowable.common.app.idm-admin.user] current!'</span><br><span class="line">read line61</span><br><span class="line">appIdmAdminUser=$line61</span><br><span class="line">;;</span><br><span class="line">62)</span><br><span class="line">echo 'number is 62, please fix your [flowable.common.app.idm-admin.password] current!'</span><br><span class="line">read line62</span><br><span class="line">appIdmAdminPassoword=$line62</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo 'Error'</span><br><span class="line">;;</span><br><span class="line">esac</span><br><span class="line">echo -n "confirm，if wrong, please choice 'n' to fix it !, input y/n:"</span><br><span class="line">read flag</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo "flowable-admin.application.properties input info  submit successfully!!"</span><br><span class="line"></span><br><span class="line">cat &gt;application.properties &lt;&lt;EOF</span><br><span class="line">server.port=$port</span><br><span class="line">server.servlet.context-path=$contextPath</span><br><span class="line">management.endpoints.jmx.unique-names=$jmxUniqueNames</span><br><span class="line"><span class="meta">#</span> This is needed to force use of JDK proxies instead of using CGLIB</span><br><span class="line">spring.aop.proxy-target-class=$proxyTargetClass</span><br><span class="line">spring.aop.auto=$auto</span><br><span class="line">spring.application.name=$applicationName</span><br><span class="line">spring.liquibase.enabled=$liquibaseEnabled</span><br><span class="line">spring.servlet.multipart.max-file-size=$multipartMaxFileSize</span><br><span class="line">spring.banner.location=$bannerLocation</span><br><span class="line"><span class="meta">#</span> The default domain for generating ObjectNames must be specified. Otherwise when multiple Spring Boot applications start in the same servlet container</span><br><span class="line"><span class="meta">#</span> all would be created with the same name (com.zaxxer.hikari:name=dataSource,type=HikariDataSource) for example</span><br><span class="line">spring.jmx.default-domain=$applicationName</span><br><span class="line"><span class="meta">#</span> Expose all actuator endpoints to the web</span><br><span class="line"><span class="meta">#</span> They are exposed, but only authenticated users can see /info and /health abd users with access-admin can see the others</span><br><span class="line">management.endpoints.web.exposure.include=$webExposureInclude</span><br><span class="line"><span class="meta">#</span> Full health details should only be displayed when a user is authorized</span><br><span class="line">management.endpoint.health.show-details=when_authorized</span><br><span class="line"><span class="meta">#</span> Only users with role access-admin can access full health details</span><br><span class="line">management.endpoint.health.roles=access-admin</span><br><span class="line"><span class="meta">#</span> Spring prefixes the roles with ROLE_. However, Flowable does not have that concept yet, so we need to override that with an empty string</span><br><span class="line">flowable.common.app.role-prefix=</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> MySQL example (default)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=org.h2.Driver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:h2:tcp://localhost/flowableadmin</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:h2:~/flowable-db/db;AUTO_SERVER=TRUE;AUTO_SERVER_PORT=9091;DB_CLOSE_DELAY=-1</span><br><span class="line"></span><br><span class="line">spring.datasource.driver-class-name=com.mysql.jdbc.Driver</span><br><span class="line">spring.datasource.url=jdbc:mysql://$MySQLHostIp:$MySQLHostPort/$datasourceName?characterEncoding=$characterEncoding</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=org.postgresql.Driver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:postgresql://localhost:5432/flowableadmin</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=flowableadmin</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:oracle:thin:@localhost:1521:FLOWABLEADMIN</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=com.ibm.db2.jcc.DB2Driver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:db2://localhost:50000/flowableadmin</span><br><span class="line"></span><br><span class="line">spring.datasource.username=$datasourceUsername</span><br><span class="line">spring.datasource.password=$datasourcePassword</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> JNDI CONFIG</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> If uncommented, the datasource will be looked up using the configured JNDI name.</span><br><span class="line"><span class="meta">#</span> This will have preference over any datasource configuration done below that doesn't use JNDI</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> Eg for JBoss: java:jboss/datasources/flowableDS</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span>spring.datasource.jndi-name==jdbc/flowableDS</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Set whether the lookup occurs in a J2EE container, i.e. if the prefix "java:comp/env/" needs to be added if the JNDI</span><br><span class="line"><span class="meta">#</span> name doesn't already contain it. Default is "true".</span><br><span class="line"><span class="meta">#</span>datasource.jndi.resourceRef=true</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> Connection pool (see https://github.com/brettwooldridge/HikariCP#configuration-knobs-baby)</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.minimum-idle=5</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.maximum-pool-size=100</span><br><span class="line"><span class="meta">#</span> test query for H2, MySQL, PostgreSQL and Microsoft SQL Server</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.connection-test-query=select 1</span><br><span class="line"><span class="meta">#</span> test query for Oracle</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.connection-test-query=SELECT 1 FROM DUAL</span><br><span class="line"><span class="meta">#</span> test query for DB2</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.connection-test-query=SELECT current date FROM sysibm.sysdummy1</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.idle-timeout=1800</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Default REST endpoint configs</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> Process engine</span><br><span class="line"></span><br><span class="line">flowable.admin.app.server-config.process.name=$processName</span><br><span class="line">flowable.admin.app.server-config.process.description=$processDescription</span><br><span class="line">flowable.admin.app.server-config.process.server-address=$processServerAddress</span><br><span class="line">flowable.admin.app.server-config.process.port=$processPort</span><br><span class="line">flowable.admin.app.server-config.process.context-root=$processContextRoot</span><br><span class="line">flowable.admin.app.server-config.process.rest-root=$processRestRoot</span><br><span class="line">flowable.admin.app.server-config.process.user-name=$processUserName</span><br><span class="line">flowable.admin.app.server-config.process.password=$processPassword</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> CMMN engine</span><br><span class="line">flowable.admin.app.server-config.cmmn.name=$cmmnName</span><br><span class="line">flowable.admin.app.server-config.cmmn.description=$cmmnDescription</span><br><span class="line">flowable.admin.app.server-config.cmmn.server-address=$cmmnServerAddress</span><br><span class="line">flowable.admin.app.server-config.cmmn.port=$cmmnPort</span><br><span class="line">flowable.admin.app.server-config.cmmn.context-root=$cmmnContextRoot</span><br><span class="line">flowable.admin.app.server-config.cmmn.rest-root=$cmmnRestRoot</span><br><span class="line">flowable.admin.app.server-config.cmmn.user-name=$cmmnUserName</span><br><span class="line">flowable.admin.app.server-config.cmmn.password=$cmmnPassword</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> DMN engine</span><br><span class="line">flowable.admin.app.server-config.dmn.name=$dmnName</span><br><span class="line">flowable.admin.app.server-config.dmn.description=$dmnDescription</span><br><span class="line">flowable.admin.app.server-config.dmn.server-address=$dmnServerAddress</span><br><span class="line">flowable.admin.app.server-config.dmn.port=$dmnPort</span><br><span class="line">flowable.admin.app.server-config.dmn.context-root=$dmnContextRoot</span><br><span class="line">flowable.admin.app.server-config.dmn.rest-root=$dmnRestRoot</span><br><span class="line">flowable.admin.app.server-config.dmn.user-name=$dmnUserName</span><br><span class="line">flowable.admin.app.server-config.dmn.password=$dmnPassword</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Form engine</span><br><span class="line">flowable.admin.app.server-config.form.name=$formName</span><br><span class="line">flowable.admin.app.server-config.form.description=$formDescription</span><br><span class="line">flowable.admin.app.server-config.form.server-address=$formServerAddress</span><br><span class="line">flowable.admin.app.server-config.form.port=$formPort</span><br><span class="line">flowable.admin.app.server-config.form.context-root=$formContextRoot</span><br><span class="line">flowable.admin.app.server-config.form.rest-root=$formRestRoot</span><br><span class="line">flowable.admin.app.server-config.form.user-name=$formUserName</span><br><span class="line">flowable.admin.app.server-config.form.password=$formPassword</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Content engine</span><br><span class="line">flowable.admin.app.server-config.content.name=$contentName</span><br><span class="line">flowable.admin.app.server-config.content.description=$contentDescription</span><br><span class="line">flowable.admin.app.server-config.content.server-address=$contentServerAddress</span><br><span class="line">flowable.admin.app.server-config.content.port=$contentPort</span><br><span class="line">flowable.admin.app.server-config.content.context-root=$contentContextRoot</span><br><span class="line">flowable.admin.app.server-config.content.rest-root=$contentRestRoot</span><br><span class="line">flowable.admin.app.server-config.content.user-name=$contentUserName</span><br><span class="line">flowable.admin.app.server-config.content.password=$contentPassword</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Passwords for rest endpoints and master configs are stored encrypted in the database using AES/CBC/PKCS5PADDING</span><br><span class="line"><span class="meta">#</span> It needs a 128-bit initialization vector (http://en.wikipedia.org/wiki/Initialization_vector)</span><br><span class="line"><span class="meta">#</span> and a 128-bit secret key represented as 16 ascii characters below</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> Do note that if these properties are changed after passwords have been saved, all existing passwords</span><br><span class="line"><span class="meta">#</span> will not be able to be decrypted and the password would need to be reset in the UI.</span><br><span class="line">flowable.admin.app.security.encryption.credentials-i-v-spec=j8kdO2hejA9lKmm6</span><br><span class="line">flowable.admin.app.security.encryption.credentials-secret-spec=9FGl73ngxcOoJvmL</span><br><span class="line">spring.security.filter.dispatcher-types=REQUEST,FORWARD,ASYNC</span><br><span class="line"></span><br><span class="line">flowable.common.app.idm-url=http://$appIdmUrlIp:$appIdmUrlPort/flowable-idm</span><br><span class="line"></span><br><span class="line">flowable.common.app.idm-admin.user=$appIdmAdminUser</span><br><span class="line">flowable.common.app.idm-admin.password=$appIdmAdminPassoword</span><br><span class="line"></span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> back to ../wars/flowable-admin/</span><br><span class="line">cd ..</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">rm -rf flowable-admin.war</span><br><span class="line">jar -cvfM0 flowable-admin.war ./</span><br><span class="line"></span><br><span class="line">echo "flowable-admin.war is successfull!"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------flowable-idm------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span> NOW is flowable-idm.war processesing...</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> back to ../wars/</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">cd flowable-idm/WEB-INF/classes</span><br><span class="line"></span><br><span class="line">rm -rf application.properties</span><br><span class="line">touch application.properties</span><br><span class="line">echo "This is flowable-idm's application.properties"</span><br><span class="line">echo -n "[1]please input the server.port = ? (default is 8080)"</span><br><span class="line">read port</span><br><span class="line">if [[ $port == "" ]]; then</span><br><span class="line">port='8080'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "your server.port is $port"</span><br><span class="line"></span><br><span class="line">echo -n "[2]please input the context-path = ? (default is /flowable-idm)"</span><br><span class="line">read contextPath</span><br><span class="line">if [[ $contextPath == "" ]]; then</span><br><span class="line">contextPath='/flowable-idm'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[3]please input the jmx.unique-names = ? (default is true)"</span><br><span class="line">read jmxUniqueNames</span><br><span class="line">if [[ $jmxUniqueNames == "" ]]; then</span><br><span class="line">jmxUniqueNames='true'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[4]please input the proxy-target-class = ? (default is true)"</span><br><span class="line">read proxyTargetClass</span><br><span class="line">if [[ $proxyTargetClass ]]; then</span><br><span class="line">proxyTargetClass='true'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[5]please input the spring.aop.auto = ? (default is true)"</span><br><span class="line">read auto</span><br><span class="line">if [[ $auto == "" ]]; then</span><br><span class="line">auto='true'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[6]please input the spring.application.name = ? (default is flowable-ui-idm)"</span><br><span class="line">read applicationName</span><br><span class="line">if [[ $applicationName == "" ]]; then</span><br><span class="line">applicationName='flowable-ui-idm'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[7]please input the MySQL server host ip = ? (default is 127.0.0.1)"</span><br><span class="line">read MySQLHostIp</span><br><span class="line">if [[ $MySQLHostIp == "" ]]; then</span><br><span class="line">MySQLHostIp='127.0.0.1'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[8]please input the MySQL server host port = ? (default is 3306)"</span><br><span class="line">read MySQLHostPort</span><br><span class="line">if [[ $MySQLHostPort == "" ]]; then</span><br><span class="line">MySQLHostPort='3306'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[9]please input the MySQL database name = ? (default is flowable)"</span><br><span class="line">read datasourceName</span><br><span class="line">if [[ $datasourceName == "" ]]; then</span><br><span class="line">datasourceName='flowable'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[10]please input the MySQL database character encoding name = ? (default is UTF-8)"</span><br><span class="line">read characterEncoding</span><br><span class="line">if [[ $characterEncoding == "" ]]; then</span><br><span class="line">characterEncoding='UTF-8'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[11]please input the spring.datasource.username = ? (default is root)"</span><br><span class="line">read datasourceUsername</span><br><span class="line">if [[ $datasourceUsername == "" ]]; then</span><br><span class="line">datasourceUsername='root'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[12]please input the spring.datasource.password = ? (default is 123456)"</span><br><span class="line">read datasourcePassword</span><br><span class="line">if [[ $datasourcePassword == "" ]]; then</span><br><span class="line">datasourcePassword='123456'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "confirm，if wrong, please choice 'n' to fix it !, input y/n:"</span><br><span class="line"></span><br><span class="line">read flag</span><br><span class="line">while [[ $flag == "n" ]]; do</span><br><span class="line">echo 'input number 1 to 12'</span><br><span class="line">echo 'your number is'</span><br><span class="line">read aNum</span><br><span class="line">case $aNum in</span><br><span class="line">1)</span><br><span class="line">echo 'number is 1, please fix your [port] current!'</span><br><span class="line">read line1</span><br><span class="line">port=$line1</span><br><span class="line">;;</span><br><span class="line">2)</span><br><span class="line">echo 'number is 2, please fix your [context-path] current!'</span><br><span class="line">read line2</span><br><span class="line">contextPath=$line2</span><br><span class="line">;;</span><br><span class="line">3)</span><br><span class="line">echo 'number is 3, please fix your [jmx.unique-names] current!'</span><br><span class="line">read line3</span><br><span class="line">jmxUniqueNames=$line3</span><br><span class="line">;;</span><br><span class="line">4)</span><br><span class="line">echo 'number is 4, please fix your [proxy-target-class] current!'</span><br><span class="line">read line4</span><br><span class="line">proxyTargetClass=$line4</span><br><span class="line">;;</span><br><span class="line">5)</span><br><span class="line">echo 'number is 5, please fix your [pring.aop.auto] current!'</span><br><span class="line">read line5</span><br><span class="line">auto=$line5</span><br><span class="line">;;</span><br><span class="line">6)</span><br><span class="line">echo 'number is 6, please fix your [spring.application.name] current!'</span><br><span class="line">read line6</span><br><span class="line">applicationName=$line6</span><br><span class="line">;;</span><br><span class="line">7)</span><br><span class="line">echo 'number is 7, please fix your [MySQL server host ip] current!'</span><br><span class="line">read line7</span><br><span class="line">MySQLHostIp=$line7</span><br><span class="line">;;</span><br><span class="line">8)</span><br><span class="line">echo 'number is 8, please fix your [MySQL server host port] current!'</span><br><span class="line">read line8</span><br><span class="line">MySQLHostPort=$line8</span><br><span class="line">;;</span><br><span class="line">9)</span><br><span class="line">echo 'number is 9, please fix your [MySQL database name] current!'</span><br><span class="line">read line9</span><br><span class="line">datasourceName=$line9</span><br><span class="line">;;</span><br><span class="line">10)</span><br><span class="line">echo 'number is 10, please fix your [MySQL database character encoding name] current!'</span><br><span class="line">read line10</span><br><span class="line">characterEncoding=$line10</span><br><span class="line">;;</span><br><span class="line">11)</span><br><span class="line">echo 'number is 11, please fix your [spring.datasource.username] current!'</span><br><span class="line">read line11</span><br><span class="line">datasourceUsername=$line11</span><br><span class="line">;;</span><br><span class="line">12)</span><br><span class="line">echo 'number is 12, please fix your [spring.datasource.password] current!'</span><br><span class="line">read line12</span><br><span class="line">datasourcePassword=$line12</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo 'Error'</span><br><span class="line">;;</span><br><span class="line">esac</span><br><span class="line">echo -n "confirm，if wrong, please choice 'n' to fix it !, input y/n:"</span><br><span class="line">read flag</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo "flowable-idm.application.properties input info submit successfully!!"</span><br><span class="line"></span><br><span class="line">cat &gt;application.properties &lt;&lt;EOF</span><br><span class="line">server.port=$port</span><br><span class="line">server.servlet.context-path=$contextPath</span><br><span class="line">management.endpoints.jmx.unique-names=$jmxUniqueNames</span><br><span class="line"><span class="meta">#</span> This is needed to force use of JDK proxies instead of using CGLIB</span><br><span class="line">spring.aop.proxy-target-class=$proxyTargetClass</span><br><span class="line">spring.aop.auto=$auto</span><br><span class="line"><span class="meta">#</span> The default domain for generating ObjectNames must be specified. Otherwise when multiple Spring Boot applications start in the same servlet container</span><br><span class="line"><span class="meta">#</span> all would be created with the same name (com.zaxxer.hikari:name=dataSource,type=HikariDataSource) for example</span><br><span class="line">spring.application.name=$applicationName</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Expose all actuator endpoints to the web</span><br><span class="line"><span class="meta">#</span> They are exposed, but only authenticated users can see /info and /health abd users with access-admin can see the others</span><br><span class="line">management.endpoints.web.exposure.include=*</span><br><span class="line"><span class="meta">#</span> Full health details should only be displayed when a user is authorized</span><br><span class="line">management.endpoint.health.show-details=when_authorized</span><br><span class="line"><span class="meta">#</span> Only users with role access-admin can access full health details</span><br><span class="line">management.endpoint.health.roles=access-admin</span><br><span class="line"><span class="meta">#</span> Spring prefixes the roles with ROLE_. However, Flowable does not have that concept yet, so we need to override that with an empty string</span><br><span class="line">flowable.common.app.role-prefix=</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> SECURITY</span><br><span class="line"><span class="meta">#</span></span><br><span class="line">flowable.idm.app.security.remember-me-key=testkey</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>flowable.idm.password-encoder=spring_bcrypt</span><br><span class="line">spring.security.filter.dispatcher-types=REQUEST,FORWARD,ASYNC</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> DATABASE</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=org.h2.Driver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:h2:~/flowable-db/db;AUTO_SERVER=TRUE;AUTO_SERVER_PORT=9091;DB_CLOSE_DELAY=-1</span><br><span class="line"></span><br><span class="line">spring.datasource.driver-class-name=com.mysql.jdbc.Driver</span><br><span class="line">spring.datasource.url=jdbc:mysql://$MySQLHostIp:$MySQLHostPort/$datasourceName?characterEncoding=$characterEncoding</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=org.postgresql.Driver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:postgresql://localhost:5432/flowableidm</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=flowableidm</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:oracle:thin:@localhost:1521:FLOWABLEIDM</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=com.ibm.db2.jcc.DB2Driver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:db2://localhost:50000/flowableidm</span><br><span class="line"></span><br><span class="line">spring.datasource.username=$datasourceUsername</span><br><span class="line">spring.datasource.password=$datasourcePassword</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.minimum-idle=5</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.maximum-pool-size=100</span><br><span class="line"><span class="meta">#</span> test query for H2, MySQL, PostgreSQL and Microsoft SQL Server</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.connection-test-query=select 1</span><br><span class="line"><span class="meta">#</span> test query for Oracle</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.connection-test-query=SELECT 1 FROM DUAL</span><br><span class="line"><span class="meta">#</span> test query for DB2</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.connection-test-query=SELECT current date FROM sysibm.sysdummy1</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.idle-timeout=1800</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> LDAP</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.enabled=true</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.server=ldap://localhost</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.port=10389</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.user=uid=admin, ou=system</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.password=secret</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.base-dn=o=flowable</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.query.user-by-id=(&amp;(objectClass=inetOrgPerson)(uid=&#123;0&#125;))</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.query.user-by-full-name-like=(&amp;(objectClass=inetOrgPerson)(|(&#123;0&#125;=*&#123;1&#125;*)(&#123;2&#125;=*&#123;3&#125;*)))</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.query.all-users=(objectClass=inetOrgPerson)</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.query.groups-for-user=(&amp;(objectClass=groupOfUniqueNames)(uniqueMember=&#123;0&#125;))</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.query.all-groups=(objectClass=groupOfUniqueNames)</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.attribute.user-id=uid</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.attribute.first-name=cn</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.attribute.last-name=sn</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.attribute.email=mail</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.attribute.group-id=cn</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.attribute.group-name=cn</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.cache.group-size=10000</span><br><span class="line"><span class="meta">#</span>flowable.idm.ldap.cache.group-expiration=180000</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> DEFAULT ADMINISTRATOR ACCOUNT</span><br><span class="line"><span class="meta">#</span></span><br><span class="line">flowable.idm.app.admin.user-id=admin</span><br><span class="line">flowable.idm.app.admin.password=test</span><br><span class="line">flowable.idm.app.admin.first-name=Test</span><br><span class="line">flowable.idm.app.admin.last-name=Administrator</span><br><span class="line">flowable.idm.app.admin.email=admin@flowable.org</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Rest api in IDM app</span><br><span class="line"></span><br><span class="line">flowable.idm.app.rest-enabled=true</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Configures the way user credentials are verified when doing a REST API call:</span><br><span class="line"><span class="meta">#</span> 'any-user' : the user needs to exist and the password need to match. Any user is allowed to do the call (this is the pre 6.3.0 behavior)</span><br><span class="line"><span class="meta">#</span> 'verify-privilege' : the user needs to exist, the password needs to match and the user needs to have the 'rest-api' privilege</span><br><span class="line"><span class="meta">#</span> If nothing set, defaults to 'verify-privilege'</span><br><span class="line">flowable.rest.app.authentication-mode=verify-privilege</span><br><span class="line"></span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> back to ../wars/flowable-idm/</span><br><span class="line">cd ..</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">rm -rf flowable-idm.war</span><br><span class="line">jar -cvfM0 flowable-idm.war ./</span><br><span class="line"></span><br><span class="line">echo "flowable-idm.war is successfull!"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------flowable-modeler--------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span> NOW is flowable-idm.war processesing...</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> back to ../wars/</span><br><span class="line">cd ..</span><br><span class="line">cd flowable-modeler/WEB-INF/classes</span><br><span class="line"><span class="meta">#</span>!/usr/bin/env bash</span><br><span class="line"></span><br><span class="line">rm -rf application.properties</span><br><span class="line">touch application.properties</span><br><span class="line"></span><br><span class="line">echo -n "[1]please input the server.port = ? (default is 8888)"</span><br><span class="line">read port</span><br><span class="line">if [[ $port == "" ]]; then</span><br><span class="line">port='8888'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[2]please input the context-path = ? (default is /flowable-modeler)"</span><br><span class="line">read contextPath</span><br><span class="line">if [[ $contextPath == "" ]]; then</span><br><span class="line">contextPath='/flowable-modeler'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[3]please input the jmx.unique-names = ? (default is true)"</span><br><span class="line">read jmxUniqueNames</span><br><span class="line">if [[ $jmxUniqueNames == "" ]]; then</span><br><span class="line">jmxUniqueNames='true'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[4]please input the proxy-target-class = ? (default is true)"</span><br><span class="line">read proxyTargetClass</span><br><span class="line">if [[ $proxyTargetClass ]]; then</span><br><span class="line">proxyTargetClass='true'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[5]please input the spring.aop.auto = ? (default is false)"</span><br><span class="line">read auto</span><br><span class="line">if [[ $auto == "" ]]; then</span><br><span class="line">auto='false'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[6]please input the spring.application.name = ? (default is flowable-ui-modeler)"</span><br><span class="line">read applicationName</span><br><span class="line">if [[ $applicationName == "" ]]; then</span><br><span class="line">applicationName='flowable-ui-modeler'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[7]please input the MySQL server host ip = ? (default is 127.0.0.1)"</span><br><span class="line">read MySQLHostIp</span><br><span class="line">if [[ $MySQLHostIp == "" ]]; then</span><br><span class="line">MySQLHostIp='127.0.0.1'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[8]please input the MySQL server host port = ? (default is 3306)"</span><br><span class="line">read MySQLHostPort</span><br><span class="line">if [[ $MySQLHostPort == "" ]]; then</span><br><span class="line">MySQLHostPort='3306'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[9]please input the MySQL database name = ? (default is flowable)"</span><br><span class="line">read datasourceName</span><br><span class="line">if [[ $datasourceName == "" ]]; then</span><br><span class="line">datasourceName='flowable'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[10]please input the MySQL database character encoding name = ? (default is UTF-8)"</span><br><span class="line">read characterEncoding</span><br><span class="line">if [[ $characterEncoding == "" ]]; then</span><br><span class="line">characterEncoding='UTF-8'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[11]please input the spring.datasource.username = ? (default is root)"</span><br><span class="line">read datasourceUsername</span><br><span class="line">if [[ $datasourceUsername == "" ]]; then</span><br><span class="line">datasourceUsername='root'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[12]please input the spring.datasource.password = ? (default is 123456)"</span><br><span class="line">read datasourcePassword</span><br><span class="line">if [[ $datasourcePassword == "" ]]; then</span><br><span class="line">datasourcePassword='123456'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[13]please input the flowable.common.app.idm-url.host = ? (default is http://localhost)"</span><br><span class="line">read mappIdmUrlHost</span><br><span class="line">if [[ $mappIdmUrlHost == "" ]]; then</span><br><span class="line">mappIdmUrlHost='http://localhost'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[14]please input the flowable.common.app.idm-url.port = ? (default is 8080)"</span><br><span class="line">read mappIdmUrlPort</span><br><span class="line">if [[ $mappIdmUrlPort == "" ]]; then</span><br><span class="line">mappIdmUrlPort='8080'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[15]please input the flowable.common.app.idm-admin.user = ? (default is admin)"</span><br><span class="line">read mappIdmAdminUser</span><br><span class="line">if [[ $mappIdmAdminUser == "" ]]; then</span><br><span class="line">mappIdmAdminUser='admin'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[16]please input the flowable.common.app.idm-admin.password = ? (default is test)"</span><br><span class="line">read mappIdmAdminPassword</span><br><span class="line">if [[ $mappIdmAdminPassword == "" ]]; then</span><br><span class="line">mappIdmAdminPassword='test'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[17]please input the flowable.modeler.app.deployment-api-url = ? (default is http://localhost)"</span><br><span class="line">read modelerAppDeploymentApiUrlHost</span><br><span class="line">if [[ $modelerAppDeploymentApiUrlHost == "" ]]; then</span><br><span class="line">modelerAppDeploymentApiUrlHost='http://localhost'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[18]please input the flowable.modeler.app.deployment-api-url.port = ? (default is 8080)"</span><br><span class="line">read modelerAppDeploymentApiUrlPort</span><br><span class="line">if [[ $modelerAppDeploymentApiUrlPort == "" ]]; then</span><br><span class="line">modelerAppDeploymentApiUrlPort='8080'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "confirm，if wrong, please choice 'n' to fix it !, input y/n:"</span><br><span class="line"></span><br><span class="line">read flag</span><br><span class="line">while [[ $flag == "n" ]]; do</span><br><span class="line">echo 'input number 1 to 18'</span><br><span class="line">echo 'your number is'</span><br><span class="line">read aNum</span><br><span class="line">case $aNum in</span><br><span class="line">1)</span><br><span class="line">echo 'number is 1, please fix your [port] current!'</span><br><span class="line">read line1</span><br><span class="line">port=$line1</span><br><span class="line">;;</span><br><span class="line">2)</span><br><span class="line">echo 'number is 2, please fix your [context-path] current!'</span><br><span class="line">read line2</span><br><span class="line">contextPath=$line2</span><br><span class="line">;;</span><br><span class="line">3)</span><br><span class="line">echo 'number is 3, please fix your [jmx.unique-names] current!'</span><br><span class="line">read line3</span><br><span class="line">jmxUniqueNames=$line3</span><br><span class="line">;;</span><br><span class="line">4)</span><br><span class="line">echo 'number is 4, please fix your [proxy-target-class] current!'</span><br><span class="line">read line4</span><br><span class="line">proxyTargetClass=$line4</span><br><span class="line">;;</span><br><span class="line">5)</span><br><span class="line">echo 'number is 5, please fix your [pring.aop.auto] current!'</span><br><span class="line">read line5</span><br><span class="line">auto=$line5</span><br><span class="line">;;</span><br><span class="line">6)</span><br><span class="line">echo 'number is 6, please fix your [spring.application.name] current!'</span><br><span class="line">read line6</span><br><span class="line">applicationName=$line6</span><br><span class="line">;;</span><br><span class="line">7)</span><br><span class="line">echo 'number is 7, please fix your [MySQL server host ip] current!'</span><br><span class="line">read line7</span><br><span class="line">MySQLHostIp=$line7</span><br><span class="line">;;</span><br><span class="line">8)</span><br><span class="line">echo 'number is 8, please fix your [MySQL server host port] current!'</span><br><span class="line">read line8</span><br><span class="line">MySQLHostPort=$line8</span><br><span class="line">;;</span><br><span class="line">9)</span><br><span class="line">echo 'number is 9, please fix your [MySQL database name] current!'</span><br><span class="line">read line9</span><br><span class="line">datasourceName=$line9</span><br><span class="line">;;</span><br><span class="line">10)</span><br><span class="line">echo 'number is 10, please fix your [MySQL database character encoding name] current!'</span><br><span class="line">read line10</span><br><span class="line">characterEncoding=$line10</span><br><span class="line">;;</span><br><span class="line">11)</span><br><span class="line">echo 'number is 11, please fix your [spring.datasource.username] current!'</span><br><span class="line">read line11</span><br><span class="line">datasourceUsername=$line11</span><br><span class="line">;;</span><br><span class="line">12)</span><br><span class="line">echo 'number is 12, please fix your [spring.datasource.password] current!'</span><br><span class="line">read line12</span><br><span class="line">datasourcePassword=$line12</span><br><span class="line">;;</span><br><span class="line">13)</span><br><span class="line">echo 'number is 13, please fix your [flowable.common.app.idm-url.host] current!'</span><br><span class="line">read line13</span><br><span class="line">mappIdmUrlHost=$line13</span><br><span class="line">;;</span><br><span class="line">14)</span><br><span class="line">echo 'number is 14, please fix your [flowable.common.app.idm-url.port] current!'</span><br><span class="line">read line14</span><br><span class="line">mappIdmUrlPort=$line14</span><br><span class="line">;;</span><br><span class="line">15)</span><br><span class="line">echo 'number is 15, please fix your [flowable.common.app.idm-admin.user] current!'</span><br><span class="line">read line15</span><br><span class="line">mappIdmAdminUser=$line15</span><br><span class="line">;;</span><br><span class="line">16)</span><br><span class="line">echo 'number is 16, please fix your [flowable.common.app.idm-admin.password] current!'</span><br><span class="line">read line16</span><br><span class="line">mappIdmAdminPassword=$line16</span><br><span class="line">;;</span><br><span class="line">17)</span><br><span class="line">echo 'number is 17, please fix your [flowable.modeler.app.deployment-api-url.host] current!'</span><br><span class="line">read line17</span><br><span class="line">modelerAppDeploymentApiUrlHost=$line17</span><br><span class="line">;;</span><br><span class="line">18)</span><br><span class="line">echo 'number is 18, please fix your [flowable.modeler.app.deployment-api-url.port] current!'</span><br><span class="line">read line18</span><br><span class="line">modelerAppDeploymentApiUrlPort=$line18</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo 'Error'</span><br><span class="line">;;</span><br><span class="line">esac</span><br><span class="line">echo -n "confirm，if wrong, please choice 'n' to fix it !, input y/n:"</span><br><span class="line">read flag</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo "flowable-modeler.application.properties input info submit successfully!!"</span><br><span class="line"></span><br><span class="line">cat &gt;application.properties &lt;&lt;EOF</span><br><span class="line">server.port=$port</span><br><span class="line">server.servlet.context-path=$contextPath</span><br><span class="line">management.endpoints.jmx.unique-names=$jmxUniqueNames</span><br><span class="line"><span class="meta">#</span> This is needed to force use of JDK proxies instead of using CGLIB</span><br><span class="line">spring.aop.proxy-target-class=$proxyTargetClass</span><br><span class="line">spring.aop.auto=$auto</span><br><span class="line">spring.application.name=$applicationName</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> SECURITY</span><br><span class="line"><span class="meta">#</span></span><br><span class="line">spring.security.filter.dispatcher-types=REQUEST,FORWARD,ASYNC</span><br><span class="line">spring.liquibase.enabled=false</span><br><span class="line">spring.banner.location=classpath:/org/flowable/spring/boot/flowable-banner.txt</span><br><span class="line"><span class="meta">#</span> The default domain for generating ObjectNames must be specified. Otherwise when multiple Spring Boot applications start in the same servlet container</span><br><span class="line"><span class="meta">#</span> all would be created with the same name (com.zaxxer.hikari:name=dataSource,type=HikariDataSource) for example</span><br><span class="line">spring.jmx.default-domain=$applicationName</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Expose all actuator endpoints to the web</span><br><span class="line"><span class="meta">#</span> They are exposed, but only authenticated users can see /info and /health abd users with access-admin can see the others</span><br><span class="line">management.endpoints.web.exposure.include=*</span><br><span class="line"><span class="meta">#</span> Full health details should only be displayed when a user is authorized</span><br><span class="line">management.endpoint.health.show-details=when_authorized</span><br><span class="line"><span class="meta">#</span> Only users with role access-admin can access full health details</span><br><span class="line">management.endpoint.health.roles=access-admin</span><br><span class="line"><span class="meta">#</span> Spring prefixes the roles with ROLE_. However, Flowable does not have that concept yet, so we need to override that with an empty string</span><br><span class="line">flowable.common.app.role-prefix=</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> DATABASE</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=org.h2.Driver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:h2:~/flowable-db/db;AUTO_SERVER=TRUE;AUTO_SERVER_PORT=9091;DB_CLOSE_DELAY=-1</span><br><span class="line"></span><br><span class="line">spring.datasource.driver-class-name=com.mysql.jdbc.Driver</span><br><span class="line">spring.datasource.url=jdbc:mysql://$MySQLHostIp:$MySQLHostPort/$datasourceName?characterEncoding=$characterEncoding</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=org.postgresql.Driver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:postgresql://localhost:5432/flowablemodeler</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=flowablemodeler</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:oracle:thin:@localhost:1521:FLOWABLEMODELER</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=com.ibm.db2.jcc.DB2Driver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:db2://localhost:50000/flowablemodeler</span><br><span class="line"></span><br><span class="line">spring.datasource.username=$datasourceUsername</span><br><span class="line">spring.datasource.password=$datasourcePassword</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.minimum-idle=5</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.maximum-pool-size=100</span><br><span class="line"><span class="meta">#</span> test query for H2, MySQL, PostgreSQL and Microsoft SQL Server</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.connection-test-query=select 1</span><br><span class="line"><span class="meta">#</span> test query for Oracle</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.connection-test-query=SELECT 1 FROM DUAL</span><br><span class="line"><span class="meta">#</span> test query for DB2</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.connection-test-query=SELECT current date FROM sysibm.sysdummy1</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.idle-timeout=1800</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> The maximum file upload limit. Set to -1 to set to 'no limit'. Expressed in bytes</span><br><span class="line">spring.servlet.multipart.max-file-size=10MB</span><br><span class="line"></span><br><span class="line">flowable.common.app.idm-url=$mappIdmUrlHost:$mappIdmUrlPort/flowable-idm</span><br><span class="line">flowable.common.app.idm-admin.user=$mappIdmAdminUser</span><br><span class="line">flowable.common.app.idm-admin.password=$mappIdmAdminPassword</span><br><span class="line"></span><br><span class="line">flowable.modeler.app.deployment-api-url=$modelerAppDeploymentApiUrlHost:$modelerAppDeploymentApiUrlPort/flowable-task/process-api</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Rest API</span><br><span class="line"></span><br><span class="line">flowable.modeler.app.rest-enabled=true</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Configures the way user credentials are verified when doing a REST API call:</span><br><span class="line"><span class="meta">#</span> 'any-user' : the user needs to exist and the password need to match. Any user is allowed to do the call (this is the pre 6.3.0 behavior)</span><br><span class="line"><span class="meta">#</span> 'verify-privilege' : the user needs to exist, the password needs to match and the user needs to have the 'rest-api' privilege</span><br><span class="line"><span class="meta">#</span> If nothing set, defaults to 'verify-privilege'</span><br><span class="line">flowable.rest.app.authentication-mode=verify-privilege</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Set the tenant_id </span><br><span class="line"><span class="meta">#</span> For the modeler this determines under which tenant_id to store and publish models</span><br><span class="line"><span class="meta">#</span> When not provided, empty or only contains whitespace it defaults to the user's tenant id if available </span><br><span class="line"><span class="meta">#</span> otherwise it uses no tenant id</span><br><span class="line"><span class="meta">#</span>flowable.common.app.tenant-id=demo</span><br><span class="line"></span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> back to ../wars/flowable-modeler/</span><br><span class="line">cd ..</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">rm -rf flowable-modeler.war</span><br><span class="line">jar -cvfM0 flowable-modeler.war ./</span><br><span class="line"></span><br><span class="line">echo "flowable-modeler.war is successfull!"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> back to ../wars/</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------flowable-rest--------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span> NOW is flowable-rest.war processesing...</span><br><span class="line"></span><br><span class="line">cd flowable-rest/WEB-INF/classes</span><br><span class="line"></span><br><span class="line">rm -rf application.properties</span><br><span class="line">touch application.properties</span><br><span class="line"></span><br><span class="line">echo -n "[1]please input the MySQL server host ip = ? (default is 127.0.0.1)"</span><br><span class="line">read MySQLHostIp</span><br><span class="line">if [[ $MySQLHostIp == "" ]]; then</span><br><span class="line">MySQLHostIp='127.0.0.1'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[2]please input the MySQL server host port = ? (default is 3306)"</span><br><span class="line">read MySQLHostPort</span><br><span class="line">if [[ $MySQLHostPort == "" ]]; then</span><br><span class="line">MySQLHostPort='3306'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[3]please input the MySQL database name = ? (default is flowable)"</span><br><span class="line">read datasourceName</span><br><span class="line">if [[ $datasourceName == "" ]]; then</span><br><span class="line">datasourceName='flowable'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[4]please input the MySQL database character encoding name = ? (default is UTF-8)"</span><br><span class="line">read characterEncoding</span><br><span class="line">if [[ $characterEncoding == "" ]]; then</span><br><span class="line">characterEncoding='UTF-8'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[5]please input the spring.datasource.username = ? (default is root)"</span><br><span class="line">read datasourceUsername</span><br><span class="line">if [[ $datasourceUsername == "" ]]; then</span><br><span class="line">datasourceUsername='root'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[6]please input the spring.datasource.password = ? (default is 123456)"</span><br><span class="line">read datasourcePassword</span><br><span class="line">if [[ $datasourcePassword == "" ]]; then</span><br><span class="line">datasourcePassword='123456'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "confirm，if wrong, please choice 'n' to fix it !, input y/n:"</span><br><span class="line"></span><br><span class="line">read flag</span><br><span class="line">while [[ $flag == "n" ]]; do</span><br><span class="line">echo 'input number 1 to 6'</span><br><span class="line">echo 'your number is'</span><br><span class="line">read aNum</span><br><span class="line">case $aNum in</span><br><span class="line">1)</span><br><span class="line">echo 'number is 1, please fix your [MySQL server host ip] current!'</span><br><span class="line">read line1</span><br><span class="line">MySQLHostIp=$line1</span><br><span class="line">;;</span><br><span class="line">2)</span><br><span class="line">echo 'number is 2, please fix your [MySQL server host port] current!'</span><br><span class="line">read line2</span><br><span class="line">MySQLHostPort=$line2</span><br><span class="line">;;</span><br><span class="line">3)</span><br><span class="line">echo 'number is 3, please fix your [MySQL database name] current!'</span><br><span class="line">read line3</span><br><span class="line">datasourceName=$line3</span><br><span class="line">;;</span><br><span class="line">4)</span><br><span class="line">echo 'number is 4, please fix your [MySQL database character encoding name] current!'</span><br><span class="line">read line4</span><br><span class="line">characterEncoding=$line4</span><br><span class="line">;;</span><br><span class="line">5)</span><br><span class="line">echo 'number is 5, please fix your [spring.datasource.username] current!'</span><br><span class="line">read line5</span><br><span class="line">datasourceUsername=$line5</span><br><span class="line">;;</span><br><span class="line">6)</span><br><span class="line">echo 'number is 6, please fix your [spring.datasource.password] current!'</span><br><span class="line">read line6</span><br><span class="line">datasourcePassword=$line6</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo 'Error'</span><br><span class="line">;;</span><br><span class="line">esac</span><br><span class="line">echo -n "confirm，if wrong, please choice 'n' to fix it !, input y/n:"</span><br><span class="line">read flag</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo "flowable-modeler.application.properties input info submit successfully!!"</span><br><span class="line"></span><br><span class="line">cat &gt;application.properties &lt;&lt;EOF</span><br><span class="line"><span class="meta">#</span>server.port=8086</span><br><span class="line">server.servlet.context-path=/flowable-rest</span><br><span class="line"><span class="meta">#</span> Expose all actuator endpoints to the web</span><br><span class="line"><span class="meta">#</span> They are exposed, but only authenticated users can see /info and /health abd users with access-admin can see the others</span><br><span class="line">management.endpoints.web.exposure.include=*</span><br><span class="line"><span class="meta">#</span> Full health details should only be displayed when a user is authorized</span><br><span class="line">management.endpoint.health.show-details=when_authorized</span><br><span class="line"><span class="meta">#</span> Only users with role access-admin can access full health details</span><br><span class="line">management.endpoint.health.roles=access-admin</span><br><span class="line"><span class="meta">#</span> Spring prefixes the roles with ROLE_. However, Flowable does not have that concept yet, so we need to override that with an empty string</span><br><span class="line">flowable.rest.app.role-prefix=</span><br><span class="line">spring.application.name=flowable-rest</span><br><span class="line">spring.banner.location=classpath:/org/flowable/spring/boot/flowable-banner.txt</span><br><span class="line"><span class="meta">#</span> The default domain for generating ObjectNames must be specified. Otherwise when multiple Spring Boot applications start in the same servlet container</span><br><span class="line"><span class="meta">#</span> all would be created with the same name (com.zaxxer.hikari:name=dataSource,type=HikariDataSource) for example</span><br><span class="line">spring.jmx.default-domain=/flowable-rest</span><br><span class="line"><span class="meta">#</span> datasource</span><br><span class="line">spring.datasource.driver-class-name=com.mysql.jdbc.Driver</span><br><span class="line">spring.datasource.url=jdbc:mysql://$MySQLHostIp:$MySQLHostPort/$datasourceName?characterEncoding=$characterEncoding</span><br><span class="line">spring.datasource.username=$datasourceUsername</span><br><span class="line">spring.datasource.password=$datasourcePassword</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.minimum-idle=5</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.maximum-pool-size=100</span><br><span class="line"><span class="meta">#</span> test query for H2, MySQL, PostgreSQL and Microsoft SQL Server</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.connection-test-query=select 1</span><br><span class="line"><span class="meta">#</span> test query for Oracle</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.connection-test-query=SELECT 1 FROM DUAL</span><br><span class="line"><span class="meta">#</span> test query for DB2</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.connection-test-query=SELECT current date FROM sysibm.sysdummy1</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.idle-timeout=1800</span><br><span class="line"></span><br><span class="line">spring.datasource.type=com.zaxxer.hikari.HikariDataSource</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Deploys demo process definitions that allows to have some example data when using the REST API's</span><br><span class="line">flowable.rest.app.create-demo-definitions=true</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> engine properties</span><br><span class="line">flowable.process.servlet.path=/service</span><br><span class="line">flowable.database-schema-update=true</span><br><span class="line">flowable.async-executor-activate=true</span><br><span class="line">flowable.history-level=full</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> rest properties</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Configures the way user credentials are verified when doing a REST API call:</span><br><span class="line"><span class="meta">#</span> 'any-user' : the user needs to exist and the password need to match. Any user is allowed to do the call (this is the pre 6.3.0 behavior)</span><br><span class="line"><span class="meta">#</span> 'verify-privilege' : the user needs to exist, the password needs to match and the user needs to have the 'rest-api' privilege</span><br><span class="line"><span class="meta">#</span> If nothing set, defaults to 'verify-privilege'</span><br><span class="line">flowable.rest.app.authentication-mode=verify-privilege</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Enable/disable Java serializable objects to be passed as variables in the REST API.</span><br><span class="line">rest.variables.allow.serializable=true</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Enable/disable whether the docs are available on /docs</span><br><span class="line">flowable.rest.app.swagger-docs-enabled=true</span><br><span class="line"></span><br><span class="line">flowable.rest.app.admin.user-id=rest-admin</span><br><span class="line">flowable.rest.app.admin.password=test</span><br><span class="line">flowable.rest.app.admin.firstname=Rest</span><br><span class="line">flowable.rest.app.admin.lastname=Admin</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> back to ../wars/flowable-rest/</span><br><span class="line">cd ..</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">rm -rf flowable-rest.war</span><br><span class="line">jar -cvfM0 flowable-rest.war ./</span><br><span class="line"></span><br><span class="line">echo "flowable-rest.war is successfull!"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> back to ../wars</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------flowable-task--------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#</span><br><span class="line"><span class="meta">#</span> NOW is flowable-task.war processesing...</span><br><span class="line"></span><br><span class="line">cd flowable-task/WEB-INF/classes</span><br><span class="line"></span><br><span class="line">rm -rf application.properties</span><br><span class="line">touch application.properties</span><br><span class="line"></span><br><span class="line">echo -n "[1]please input the MySQL server host ip = ? (default is 127.0.0.1)"</span><br><span class="line">read MySQLHostIp</span><br><span class="line">if [[ $MySQLHostIp == "" ]]; then</span><br><span class="line">MySQLHostIp='127.0.0.1'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[2]please input the MySQL server host port = ? (default is 3306)"</span><br><span class="line">read MySQLHostPort</span><br><span class="line">if [[ $MySQLHostPort == "" ]]; then</span><br><span class="line">MySQLHostPort='3306'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[3]please input the MySQL database name = ? (default is flowable)"</span><br><span class="line">read datasourceName</span><br><span class="line">if [[ $datasourceName == "" ]]; then</span><br><span class="line">datasourceName='flowable'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[4]please input the MySQL database character encoding name = ? (default is UTF-8)"</span><br><span class="line">read characterEncoding</span><br><span class="line">if [[ $characterEncoding == "" ]]; then</span><br><span class="line">characterEncoding='UTF-8'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[5]please input the spring.datasource.username = ? (default is root)"</span><br><span class="line">read datasourceUsername</span><br><span class="line">if [[ $datasourceUsername == "" ]]; then</span><br><span class="line">datasourceUsername='root'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[6]please input the spring.datasource.password = ? (default is 123456)"</span><br><span class="line">read datasourcePassword</span><br><span class="line">if [[ $datasourcePassword == "" ]]; then</span><br><span class="line">datasourcePassword='123456'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[7]please input the flowable.common.app.idm-url.host = ? (default is http://localhost)"</span><br><span class="line">read mappIdmUrlHost</span><br><span class="line">if [[ $mappIdmUrlHost == "" ]]; then</span><br><span class="line">mappIdmUrlHost='http://localhost'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[8]please input the flowable.common.app.idm-url.port = ? (default is 8080)"</span><br><span class="line">read mappIdmUrlPort</span><br><span class="line">if [[ $mappIdmUrlPort == "" ]]; then</span><br><span class="line">mappIdmUrlPort='8080'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[9]please input the flowable.common.app.idm-admin.user = ? (default is admin)"</span><br><span class="line">read mappIdmAdminUser</span><br><span class="line">if [[ $mappIdmAdminUser == "" ]]; then</span><br><span class="line">mappIdmAdminUser='admin'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "[10]please input the flowable.common.app.idm-admin.password = ? (default is test)"</span><br><span class="line">read mappIdmAdminPassword</span><br><span class="line">if [[ $mappIdmAdminPassword == "" ]]; then</span><br><span class="line">mappIdmAdminPassword='test'</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo -n "confirm，if wrong, please choice 'n' to fix it !, input y/n:"</span><br><span class="line"></span><br><span class="line">read flag</span><br><span class="line">while [[ $flag == "n" ]]; do</span><br><span class="line">echo 'input number 1 to 10'</span><br><span class="line">echo 'your number is'</span><br><span class="line">read aNum</span><br><span class="line">case $aNum in</span><br><span class="line">1)</span><br><span class="line">echo 'number is 1, please fix your [MySQL server host ip] current!'</span><br><span class="line">read line1</span><br><span class="line">MySQLHostIp=$line1</span><br><span class="line">;;</span><br><span class="line">2)</span><br><span class="line">echo 'number is 2, please fix your [MySQL server host port] current!'</span><br><span class="line">read line2</span><br><span class="line">MySQLHostPort=$line2</span><br><span class="line">;;</span><br><span class="line">3)</span><br><span class="line">echo 'number is 3, please fix your [MySQL database name] current!'</span><br><span class="line">read line3</span><br><span class="line">datasourceName=$line3</span><br><span class="line">;;</span><br><span class="line">4)</span><br><span class="line">echo 'number is 4, please fix your [MySQL database character encoding name] current!'</span><br><span class="line">read line4</span><br><span class="line">characterEncoding=$line4</span><br><span class="line">;;</span><br><span class="line">5)</span><br><span class="line">echo 'number is 5, please fix your [spring.datasource.username] current!'</span><br><span class="line">read line5</span><br><span class="line">datasourceUsername=$line5</span><br><span class="line">;;</span><br><span class="line">6)</span><br><span class="line">echo 'number is 6, please fix your [spring.datasource.password] current!'</span><br><span class="line">read line6</span><br><span class="line">datasourcePassword=$line6</span><br><span class="line">;;</span><br><span class="line">7)</span><br><span class="line">echo 'number is 7, please fix your [flowable.common.app.idm-url.host] current!'</span><br><span class="line">read line7</span><br><span class="line">mappIdmUrlHost=$line7</span><br><span class="line">;;</span><br><span class="line">8)</span><br><span class="line">echo 'number is 8, please fix your [flowable.common.app.idm-url.port] current!'</span><br><span class="line">read line8</span><br><span class="line">mappIdmUrlPort=$line8</span><br><span class="line">;;</span><br><span class="line">9)</span><br><span class="line">echo 'number is 9, please fix your [flowable.common.app.idm-admin.user] current!'</span><br><span class="line">read line9</span><br><span class="line">mappIdmAdminUser=$line9</span><br><span class="line">;;</span><br><span class="line">10)</span><br><span class="line">echo 'number is 10, please fix your [flowable.common.app.idm-admin.password] current!'</span><br><span class="line">read line10</span><br><span class="line">mappIdmAdminPassword=$line10</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo 'Error'</span><br><span class="line">;;</span><br><span class="line">esac</span><br><span class="line">echo -n "confirm，if wrong, please choice 'n' to fix it !, input y/n:"</span><br><span class="line">read flag</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo "flowable-modeler.application.properties input info submit successfully!!"</span><br><span class="line"></span><br><span class="line">cat &gt;application.properties &lt;&lt;EOF</span><br><span class="line">server.port=9999</span><br><span class="line">server.servlet.context-path=/flowable-task</span><br><span class="line">management.endpoints.jmx.unique-names=true</span><br><span class="line"><span class="meta">#</span> This is needed to force use of JDK proxies instead of using CGLIB</span><br><span class="line">spring.aop.proxy-target-class=false</span><br><span class="line">spring.aop.auto=false</span><br><span class="line">spring.application.name=flowable-ui-task</span><br><span class="line">spring.banner.location=classpath:/org/flowable/spring/boot/flowable-banner.txt</span><br><span class="line"><span class="meta">#</span> The default domain for generating ObjectNames must be specified. Otherwise when multiple Spring Boot applications start in the same servlet container</span><br><span class="line"><span class="meta">#</span> all would be created with the same name (com.zaxxer.hikari:name=dataSource,type=HikariDataSource) for example</span><br><span class="line">spring.jmx.default-domain=/flowable-task</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> SECURITY</span><br><span class="line"><span class="meta">#</span></span><br><span class="line">spring.security.filter.dispatcher-types=REQUEST,FORWARD,ASYNC</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Expose all actuator endpoints to the web</span><br><span class="line"><span class="meta">#</span> They are exposed, but only authenticated users can see /info and /health abd users with access-admin can see the others</span><br><span class="line">management.endpoints.web.exposure.include=*</span><br><span class="line"><span class="meta">#</span> Full health details should only be displayed when a user is authorized</span><br><span class="line">management.endpoint.health.show-details=when_authorized</span><br><span class="line"><span class="meta">#</span> Only users with role access-admin can access full health details</span><br><span class="line">management.endpoint.health.roles=access-admin</span><br><span class="line"><span class="meta">#</span> Spring prefixes the roles with ROLE_. However, Flowable does not have that concept yet, so we need to override that with an empty string</span><br><span class="line">flowable.common.app.role-prefix=</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> DATABASE</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=org.h2.Driver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:h2:~/flowable-db/db;AUTO_SERVER=TRUE;AUTO_SERVER_PORT=9091;DB_CLOSE_DELAY=-1</span><br><span class="line"></span><br><span class="line">spring.datasource.driver-class-name=com.mysql.jdbc.Driver</span><br><span class="line">spring.datasource.url=jdbc:mysql://$MySQLHostIp:$MySQLHostPort/$datasourceName?characterEncoding=$characterEncoding</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=org.postgresql.Driver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:postgresql://localhost:5432/flowable</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=flowablea</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:oracle:thin:@localhost:1521:FLOWABLE</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.driver-class-name=com.ibm.db2.jcc.DB2Driver</span><br><span class="line"><span class="meta">#</span>spring.datasource.url=jdbc:db2://localhost:50000/flowable</span><br><span class="line"></span><br><span class="line">spring.datasource.username=$datasourceUsername</span><br><span class="line">spring.datasource.password=$datasourcePassword</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> JNDI CONFIG</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> If uncommented, the datasource will be looked up using the configured JNDI name.</span><br><span class="line"><span class="meta">#</span> This will have preference over any datasource configuration done below that doesn't use JNDI</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> Eg for JBoss: java:jboss/datasources/flowableDS</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span>spring.datasource.jndi-name==jdbc/flowableDS</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Set whether the lookup occurs in a J2EE container, i.e. if the prefix "java:comp/env/" needs to be added if the JNDI</span><br><span class="line"><span class="meta">#</span> name doesn't already contain it. Default is "true".</span><br><span class="line"><span class="meta">#</span>datasource.jndi.resourceRef=true</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> Connection pool (see https://github.com/brettwooldridge/HikariCP#configuration-knobs-baby)</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.minimum-idle=5</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.maximum-pool-size=100</span><br><span class="line"><span class="meta">#</span> test query for H2, MySQL, PostgreSQL and Microsoft SQL Server</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.connection-test-query=select 1</span><br><span class="line"><span class="meta">#</span> test query for Oracle</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.connection-test-query=SELECT 1 FROM DUAL</span><br><span class="line"><span class="meta">#</span> test query for DB2</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.connection-test-query=SELECT current date FROM sysibm.sysdummy1</span><br><span class="line"><span class="meta">#</span>spring.datasource.hikari.idle-timeout=1800</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> EMAIL</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>flowable.mail.server.host=localhost</span><br><span class="line"><span class="meta">#</span>flowable.mail.server.port=1025</span><br><span class="line"><span class="meta">#</span>flowable.mail.server.username=</span><br><span class="line"><span class="meta">#</span>flowable.mail.server.password=</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> FLOWABLE</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"></span><br><span class="line">flowable.process.definition-cache-limit=512</span><br><span class="line"><span class="meta">#</span>flowable.dmn.strict-mode=false</span><br><span class="line">flowable.process.async.executor.default-async-job-acquire-wait-time-in-millis=5000</span><br><span class="line">flowable.process.async.executor.default-timer-job-acquire-wait-time-in-millis=5000</span><br><span class="line"></span><br><span class="line">flowable.cmmn.async.executor.default-async-job-acquire-wait-time-in-millis=5000</span><br><span class="line">flowable.cmmn.async.executor.default-timer-job-acquire-wait-time-in-millis=5000</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> The maximum file upload limit. Set to -1 to set to 'no limit'. Expressed in bytes</span><br><span class="line">spring.servlet.multipart.max-file-size=10MB</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> For development purposes, data folder is created inside the sources ./data folder</span><br><span class="line">flowable.content.storage.root-folder=data/</span><br><span class="line">flowable.content.storage.create-root=true</span><br><span class="line"></span><br><span class="line">flowable.common.app.idm-url=$mappIdmUrlHost:$mappIdmUrlPort/flowable-idm</span><br><span class="line">flowable.common.app.idm-admin.user=$mappIdmAdminUser</span><br><span class="line">flowable.common.app.idm-admin.password=$mappIdmAdminPassword</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>flowable.common.app.redirect-on-auth-success=http://localhost:8080/flowable-task</span><br><span class="line"><span class="meta">#</span>flowable.modeler.app.deployment-api-url=http://localhost:8080/flowable-task/process-api</span><br><span class="line"></span><br><span class="line">flowable.experimental.debugger.enabled=false</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Rest API in task application</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> If false, disables the rest api in the task app</span><br><span class="line">flowable.task.app.rest-enabled=true</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Configures the way user credentials are verified when doing a REST API call:</span><br><span class="line"><span class="meta">#</span> 'any-user' : the user needs to exist and the password need to match. Any user is allowed to do the call (this is the pre 6.3.0 behavior)</span><br><span class="line"><span class="meta">#</span> 'verify-privilege' : the user needs to exist, the password needs to match and the user needs to have the 'rest-api' privilege</span><br><span class="line"><span class="meta">#</span> If nothing set, defaults to 'verify-privilege'</span><br><span class="line">flowable.rest.app.authentication-mode=verify-privilege</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> back to ../wars/flowable-task/</span><br><span class="line">cd ..</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">rm -rf flowable-task.war</span><br><span class="line">jar -cvfM0 flowable-task.war ./</span><br><span class="line"></span><br><span class="line">echo "flowable-task.war is successfull!"</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;1、概要&quot;&gt;&lt;a href=&quot;#1、概要&quot; class=&quot;headerlink&quot; title=&quot;1、概要&quot;&gt;&lt;/a&gt;1、概要&lt;/h1&gt;&lt;p&gt;部署开发与生产环境，有用到flowable工作流的地方，每次部署，需要修改war包里面的配置，最多的就是引擎的地址和数据库的地址、端口，账密等信息。次数多了，修改这些体力活。&lt;/p&gt;
&lt;p&gt;使用shell改进这个工作。&lt;br&gt;
    
    </summary>
    
    
      <category term="shell" scheme="https://youxiu.net/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>角色权限与组织架构权限模型设计-ER模型与表设计</title>
    <link href="https://youxiu.net/2019/12/25/ad7fb25a-168e-417b-b0cc-557e405b3844/"/>
    <id>https://youxiu.net/2019/12/25/ad7fb25a-168e-417b-b0cc-557e405b3844/</id>
    <published>2019-12-25T08:45:22.000Z</published>
    <updated>2019-12-25T08:48:51.350Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1、概要"><a href="#1、概要" class="headerlink" title="1、概要"></a>1、概要</h2><p>设计一套比较灵活的角色权限与组织架构的数据表，首先要画出ER图，在进行表设计。<br><a id="more"></a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1、概要&quot;&gt;&lt;a href=&quot;#1、概要&quot; class=&quot;headerlink&quot; title=&quot;1、概要&quot;&gt;&lt;/a&gt;1、概要&lt;/h2&gt;&lt;p&gt;设计一套比较灵活的角色权限与组织架构的数据表，首先要画出ER图，在进行表设计。&lt;br&gt;
    
    </summary>
    
    
      <category term="ER" scheme="https://youxiu.net/tags/ER/"/>
    
  </entry>
  
  <entry>
    <title>Element UI之Cascader 级联选择器多选操作</title>
    <link href="https://youxiu.net/2019/12/24/48acf05e-5b94-4e18-b62a-f277e34237fb/"/>
    <id>https://youxiu.net/2019/12/24/48acf05e-5b94-4e18-b62a-f277e34237fb/</id>
    <published>2019-12-24T08:22:45.000Z</published>
    <updated>2019-12-24T08:48:44.307Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1、概要"><a href="#1、概要" class="headerlink" title="1、概要"></a>1、概要</h2><h3 id="1-1、级联选择器，树型展示"><a href="#1-1、级联选择器，树型展示" class="headerlink" title="1.1、级联选择器，树型展示"></a>1.1、级联选择器，树型展示</h3><p>Element UI的官网链接：<a href="https://element.eleme.cn/#/zh-CN/component/cascader" target="_blank" rel="noopener">https://element.eleme.cn/#/zh-CN/component/cascader</a><br>使用环境：<br><code>&quot;element-ui&quot;: &quot;2.9.0&quot;,</code><br>需要依赖为2.9.x及以上，配合<br><code>&quot;vue&quot;: &quot;2.5.22&quot;</code> 以上。<br>如果版本不匹配，多选操作是显示不出来的。<br><a id="more"></a></p><h3 id="1-2、需求描述"><a href="#1-2、需求描述" class="headerlink" title="1.2、需求描述"></a>1.2、需求描述</h3><p>数据库中存在两张表，user表和org表，user表中有字段org_id，记录这个人所属的组织id，org表中有org_id，org_name等字段。<br>表结构简介如下<br>user:</p><table><thead><tr><th>id</th><th>name</th><th>org_id</th><th>…</th></tr></thead><tbody><tr><td>1</td><td>admin</td><td>10000</td><td>…</td></tr></tbody></table><p>org</p><table><thead><tr><th>org_id</th><th>org_name</th><th>….</th></tr></thead><tbody><tr><td>10000</td><td>六扇门</td><td>…</td></tr></tbody></table><p>目前每个人只有一个所属组织，管理员，部门负责人在进行组织查询的时候，只能有本部门及其子部门的展示权限，虽然不属于部门B，但是想看到部门B的信息，单选满足不了，靠两个表维护不了多选的信息。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1、概要&quot;&gt;&lt;a href=&quot;#1、概要&quot; class=&quot;headerlink&quot; title=&quot;1、概要&quot;&gt;&lt;/a&gt;1、概要&lt;/h2&gt;&lt;h3 id=&quot;1-1、级联选择器，树型展示&quot;&gt;&lt;a href=&quot;#1-1、级联选择器，树型展示&quot; class=&quot;headerlink&quot; title=&quot;1.1、级联选择器，树型展示&quot;&gt;&lt;/a&gt;1.1、级联选择器，树型展示&lt;/h3&gt;&lt;p&gt;Element UI的官网链接：&lt;a href=&quot;https://element.eleme.cn/#/zh-CN/component/cascader&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://element.eleme.cn/#/zh-CN/component/cascader&lt;/a&gt;&lt;br&gt;使用环境：&lt;br&gt;&lt;code&gt;&amp;quot;element-ui&amp;quot;: &amp;quot;2.9.0&amp;quot;,&lt;/code&gt;&lt;br&gt;需要依赖为2.9.x及以上，配合&lt;br&gt;&lt;code&gt;&amp;quot;vue&amp;quot;: &amp;quot;2.5.22&amp;quot;&lt;/code&gt; 以上。&lt;br&gt;如果版本不匹配，多选操作是显示不出来的。&lt;br&gt;
    
    </summary>
    
    
      <category term="elementui" scheme="https://youxiu.net/tags/elementui/"/>
    
  </entry>
  
  <entry>
    <title>Goodbye Microservices:From 100s of problem children to 1 superstar</title>
    <link href="https://youxiu.net/2019/05/25/c827ce44-307a-4240-aa90-60fd384e31f4/"/>
    <id>https://youxiu.net/2019/05/25/c827ce44-307a-4240-aa90-60fd384e31f4/</id>
    <published>2019-05-25T03:32:26.000Z</published>
    <updated>2019-05-25T03:46:39.611Z</updated>
    
    <content type="html"><![CDATA[<p>本文转自：<a href="https://segment.com/blog/goodbye-microservices/" target="_blank" rel="noopener">https://segment.com/blog/goodbye-microservices/</a><br>这就是那个最值钱的问题：<br>How do you tell the difference between:<br>1: XXX is a wrong solution.<br>2: XXX is not a bad solution, but you are doing it wrong.<br>以下是原文：<br><a id="more"></a><br>Unless you’ve been living under a rock, you probably already know that microservices is the architecture du jour. Coming of age alongside this trend, Segment<a href="https://segment.com/blog/why-microservices/" target="_blank" rel="noopener"> adopted this as a best practice </a>early-on, which served us well in some cases, and, as you’ll soon learn, not so well in others.</p><p>Briefly, microservices is a service-oriented software architecture in which server-side applications are constructed by combining many single-purpose, low-footprint network services. The touted benefits are improved modularity, reduced testing burden, better functional composition, environmental isolation, and development team autonomy. The opposite is a Monolithic architecture, where a large amount of functionality lives in a single service which is tested, deployed, and scaled as a single unit.</p><p>In early 2017 we reached a tipping point with a core piece of Segment’s product. It seemed as if we were falling from the microservices tree, hitting every branch on the way down. Instead of enabling us to move faster, the small team found themselves mired in exploding complexity. Essential benefits of this architecture became burdens. As our velocity plummeted, our defect rate exploded.</p><p>Eventually, the team found themselves unable to make headway, with 3 full-time engineers spending most of their time just keeping the system alive. Something had to change. This post is the story of how we took a step back and embraced an approach that aligned well with our product requirements and needs of the team.</p><h3 id="Why-Microservices-work-worked"><a href="#Why-Microservices-work-worked" class="headerlink" title="Why Microservices work worked"></a>Why Microservices work worked</h3><p>Segment’s customer data infrastructure ingests hundreds of thousands of events per second and forwards them to partner APIs, what we refer to as server-side destinations. There are over one hundred types of these destinations, such as Google Analytics, Optimizely, or a custom webhook. </p><p>Years back, when the product initially launched, the architecture was simple. There was an API that ingested events and forwarded them to a distributed message queue. An event, in this case, is a JSON object generated by a web or mobile app containing information about users and their actions. A sample payload looks like the following:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"identify"</span>,</span><br><span class="line">  <span class="attr">"traits"</span>: &#123;</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"Alex Noonan"</span>,</span><br><span class="line">    <span class="attr">"email"</span>: <span class="string">"anoonan@segment.com"</span>,</span><br><span class="line">    <span class="attr">"company"</span>: <span class="string">"Segment"</span>,</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"Software Engineer"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"userId"</span>: <span class="string">"97980cfea0067"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>As events were consumed from the queue, customer-managed settings were checked to decide which destinations should receive the event. The event was then sent to each destination’s API, one after another, which was useful because developers only need to send their event to a single endpoint, Segment’s API, instead of building potentially dozens of integrations. Segment handles making the request to every destination endpoint.</p><p>If one of the requests to a destination fails, sometimes we’ll try sending that event again at a later time. Some failures are safe to retry while others are not. Retry-able errors are those that could potentially be accepted by the destination with no changes. For example, HTTP 500s, rate limits, and timeouts. Non-retry-able errors are requests that we can be sure will never be accepted by the destination. For example, requests which have invalid credentials or are missing required fields.<br><img src="https://assets.contents.io/asset_QhV9GV3m.png" alt=""></p><p>At this point, a single queue contained both the newest events as well as those which may have had several retry attempts, across all destinations, which resulted in  <a href="https://en.wikipedia.org/wiki/Head-of-line_blocking" target="_blank" rel="noopener">head-of-line</a>blocking. Meaning in this particular case, if one destination slowed or went down, retries would flood the queue, resulting in delays across all our destinations.</p><p>Imagine destination X is experiencing a temporary issue and every request errors with a timeout. Now, not only does this create a large backlog of requests which have yet to reach destination X, but also every failed event is put back to retry in the queue. While our systems would automatically scale in response to increased load, the sudden increase in queue depth would outpace our ability to scale up, resulting in delays for the newest events. Delivery times for all destinations would increase because destination X had a momentary outage. Customers rely on the timeliness of this delivery, so we can’t afford increases in wait times anywhere in our pipeline.</p><p><img src="https://assets.contents.io/asset_joMYeSNt.png" alt=""></p><p>To solve the head-of-line blocking problem, the team created a separate service and queue for each destination. This new architecture consisted of an additional router process that receives the inbound events and distributes a copy of the event to each selected destination. Now if one destination experienced problems, only it’s queue would back up and no other destinations would be impacted. This microservice-style architecture isolated the destinations from one another, which was crucial when one destination experienced issues as they often do.</p><p><img src="https://assets.contents.io/asset_ElKl4CZv.png" alt=""></p><h3 id="The-Case-for-Individual-Repos"><a href="#The-Case-for-Individual-Repos" class="headerlink" title="The Case for Individual Repos"></a>The Case for Individual Repos</h3><p>Each destination API uses a different request format, requiring custom code to translate the event to match this format. A basic example is destination X requires sending birthday as <code>traits.dob</code> in the payload whereas our API accepts it as <code>traits.birthday</code>. The transformation code in destination X would look something like this:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> traits = &#123;&#125;</span><br><span class="line">traits.dob = segmentEvent.birthday</span><br></pre></td></tr></table></figure><p>Many modern destination endpoints have adopted Segment’s request format making some transforms relatively simple. However, these transforms can be very complex depending on the structure of the destination’s API. For example, for some of the older and most sprawling destinations, we find ourselves shoving values into hand-crafted XML payloads.</p><p>Initially, when the destinations were divided into separate services, all of the code lived in one repo. A huge point of frustration was that a single broken test caused tests to fail across all destinations. When we wanted to deploy a change, we had to spend time fixing the broken test even if the changes had nothing to do with the initial change. In response to this problem, it was decided to break out the code for each destination into their own repos. All the destinations were already broken out into their own service, so the transition was natural.</p><p>The split to separate repos allowed us to isolate the destination test suites easily. This isolation allowed the development team to move quickly when maintaining destinations.</p><h3 id="Scaling-Microservices-and-Repos"><a href="#Scaling-Microservices-and-Repos" class="headerlink" title="Scaling Microservices and Repos"></a>Scaling Microservices and Repos</h3><p>As time went on, we added over 50 new destinations, and that meant 50 new repos. To ease the burden of developing and maintaining these codebases, we created shared libraries to make common transforms and functionality, such as HTTP request handling, across our destinations easier and more uniform.</p><p>For example, if we want the name of a user from an event, <code>event.name()</code>can be called in any destination’s code. The shared library checks the event for the property key <code>name</code> and <code>Name</code>. If those don’t exist, it checks for a first name, checking the properties <code>firstName</code>, <code>first_name</code>, and <code>FirstName</code>. It does the same for the last name, checking the cases and combining the two to form the full name.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Identify.prototype.name = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="keyword">this</span>.proxy(<span class="string">'traits.name'</span>);</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> name === <span class="string">'string'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> trim(name)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> firstName = <span class="keyword">this</span>.firstName();</span><br><span class="line">  <span class="keyword">var</span> lastName = <span class="keyword">this</span>.lastName();</span><br><span class="line">  <span class="keyword">if</span> (firstName &amp;&amp; lastName) &#123;</span><br><span class="line">    <span class="keyword">return</span> trim(firstName + <span class="string">' '</span> + lastName)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The shared libraries made building new destinations quick. The familiarity brought by a uniform set of shared functionality made maintenance less of a headache.</p><p>However, a new problem began to arise. Testing and deploying changes to these shared libraries impacted all of our destinations. It began to require considerable time and effort to maintain. Making changes to improve our libraries, knowing we’d have to test and deploy dozens of services, was a risky proposition. When pressed for time, engineers would only include the updated versions of these libraries on a single destination’s codebase.</p><p>Over time, the versions of these shared libraries began to diverge across the different destination codebases. The great benefit we once had of reduced customization between each destination codebase started to reverse. Eventually, all of them were using different versions of these shared libraries. We could’ve built tools to automate rolling out changes, but at this point, not only was developer productivity suffering but we began to encounter other issues with the microservice architecture.</p><p>The additional problem is that each service had a distinct load pattern. Some services would handle a handful of events per day while others handled thousands of events per second. For destinations that handled a small number of events, an operator would have to manually scale the service up to meet demand whenever there was an unexpected spike in load.</p><p>While we did have auto-scaling implemented, each service had a distinct blend of required CPU and memory resources, which made tuning the auto-scaling configuration more art than science.</p><p>The number of destinations continued to grow rapidly, with the team adding three destinations per month on average, which meant more repos, more queues, and more services. With our microservice architecture, our operational overhead increased linearly with each added destination. Therefore, we decided to take a step back and rethink the entire pipeline.</p><h3 id="Ditching-Microservices-and-Queues"><a href="#Ditching-Microservices-and-Queues" class="headerlink" title="Ditching Microservices and Queues"></a>Ditching Microservices and Queues</h3><p>The first item on the list was to consolidate the now over 140 services into a single service. The overhead from managing all of these services was a huge tax on our team. We were literally losing sleep over it since it was common for the on-call engineer to get paged to deal with load spikes.</p><p>However, the architecture at the time would have made moving to a single service challenging. With a separate queue per destination, each worker would have to check every queue for work, which would have added a layer of complexity to the destination service with which we weren’t comfortable. This was the main inspiration for Centrifuge. Centrifuge would replace all our individual queues and be responsible for sending events to the single monolithic service.</p><p><img src="https://assets.contents.io/asset_a0ViVzT6.png" alt=""></p><h3 id="Moving-to-a-Monorepo"><a href="#Moving-to-a-Monorepo" class="headerlink" title="Moving to a Monorepo"></a>Moving to a Monorepo</h3><p>Given that there would only be one service, it made sense to move all the destination code into one repo, which meant merging all the different dependencies and tests into a single repo. We knew this was going to be messy.</p><p>For each of the 120 unique dependencies, we committed to having one version for all our destinations. As we moved destinations over, we’d check the dependencies it was using and update them to the latest versions. We fixed anything in the destinations that broke with the newer versions.</p><p>With this transition, we no longer needed to keep track of the differences between dependency versions. All our destinations were using the same version, which significantly reduced the complexity across the codebase. Maintaining destinations now became less time consuming and less risky.</p><p>We also wanted a test suite that allowed us to quickly and easily run all our destination tests. Running all the tests was one of the main blockers when making updates to the shared libraries we discussed earlier.</p><p>Fortunately, the destination tests all had a similar structure. They had basic unit tests to verify our custom transform logic was correct and would execute HTTP requests to the partner’s endpoint to verify that events showed up in the destination as expected.</p><p>Recall that the original motivation for separating each destination codebase into its own repo was to isolate test failures. However, it turned out this was a false advantage. Tests that made HTTP requests were still failing with some frequency. With destinations separated into their own repos, there was little motivation to clean up failing tests. This poor hygiene led to a constant source of frustrating technical debt. Often a small change that should have only taken an hour or two would end up requiring a couple of days to a week to complete.</p><h3 id="Building-a-Resilient-Test-Suite"><a href="#Building-a-Resilient-Test-Suite" class="headerlink" title="Building a Resilient Test Suite"></a>Building a Resilient Test Suite</h3><p>The outbound HTTP requests to destination endpoints during the test run was the primary cause of failing tests. Unrelated issues like expired credentials shouldn’t fail tests. We also knew from experience that some destination endpoints were much slower than others. Some destinations took up to 5 minutes to run their tests. With over 140 destinations, our test suite could take up to an hour to run.</p><p>To solve for both of these, we created Traffic Recorder. Traffic Recorder is built on top of yakbak, and is responsible for recording and saving destinations’ test traffic. Whenever a test runs for the first time, any requests and their corresponding responses are recorded to a file. On subsequent test runs, the request and response in the file is played back instead requesting the destination’s endpoint. These files are checked into the repo so that the tests are consistent across every change. Now that the test suite is no longer dependent on these HTTP requests over the internet, our tests became significantly more resilient, a must-have for the migration to a single repo.</p><p>I remember running the tests for every destination for the first time, after we integrated Traffic Recorder. It took milliseconds to complete running the tests for all 140+ of our destinations. In the past, just one destination could have taken a couple of minutes to complete. It felt like magic.</p><h3 id="Why-a-Monolith-works"><a href="#Why-a-Monolith-works" class="headerlink" title="Why a Monolith works"></a>Why a Monolith works</h3><p>Once the code for all destinations lived in a single repo, they could be merged into a single service. With every destination living in one service, our developer productivity substantially improved. We no longer had to deploy 140+ services for a change to one of the shared libraries. One engineer can deploy the service in a matter of minutes.</p><p>The proof was in the improved velocity. In 2016, when our microservice architecture was still in place, we made 32 improvements to our shared libraries. Just this year we’ve made 46 improvements. We’ve made more improvements to our libraries in the past 6 months than in all of 2016.</p><p>The change also benefited our operational story. With every destination living in one service, we had a good mix of CPU and memory-intense destinations, which made scaling the service to meet demand significantly easier. The large worker pool can absorb spikes in load, so we no longer get paged for destinations that process small amounts of load.</p><h3 id="Trade-Offs"><a href="#Trade-Offs" class="headerlink" title="Trade Offs"></a>Trade Offs</h3><p>Moving from our microservice architecture to a monolith overall was huge improvement, however, there are trade-offs:</p><ul><li><p>1、Fault isolation is difficult. With everything running in a monolith, if a bug is introduced in one destination that causes the service to crash, the service will crash for all destinations. We have comprehensive automated testing in place, but tests can only get you so far. We are currently working on a much more robust way to prevent one destination from taking down the entire service while still keeping all the destinations in a monolith.</p></li><li><p>2、In-memory caching is less effective. Previously, with one service per destination, our low traffic destinations only had a handful of processes, which meant their in-memory caches of control plane data would stay hot. Now that cache is spread thinly across 3000+ processes so it’s much less likely to be hit. We could use something like Redis to solve for this, but then that’s another point of scaling for which we’d have to account. In the end, we accepted this loss of efficiency given the substantial operational benefits.</p></li><li><p>3、Updating the version of a dependency may break multiple destinations. While moving everything to one repo solved the previous dependency mess we were in, it means that if we want to use the newest version of a library, we’ll potentially have to update other destinations to work with the newer version. In our opinion though, the simplicity of this approach is worth the trade-off. And with our comprehensive automated test suite, we can quickly see what breaks with a newer dependency version.</p></li></ul><h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>Our initial microservice architecture worked for a time, solving the immediate performance issues in our pipeline by isolating the destinations from each other. However, we weren’t set up to scale. We lacked the proper tooling for testing and deploying the microservices when bulk updates were needed. As a result, our developer productivity quickly declined.</p><p>Moving to a monolith allowed us to rid our pipeline of operational issues while significantly increasing developer productivity. We didn’t make this transition lightly though and knew there were things we had to consider if it was going to work.</p><ul><li><p>1、We needed a rock solid testing suite to put everything into one repo. Without this, we would have been in the same situation as when we originally decided to break them apart. Constant failing tests hurt our productivity in the past, and we didn’t want that happening again.</p></li><li><p>2、We accepted the trade-offs inherent in a monolithic architecture and made sure we had a good story around each. We had to be comfortable with some of the sacrifices that came with this change.</p></li></ul><p>When deciding between microservices or a monolith, there are different factors to consider with each. In some parts of our infrastructure, microservices work well but our server-side destinations were a perfect example of how this popular trend can actually hurt productivity and performance. It turns out, the solution for us was a monolith.</p><p>The transition to a monolith was made possible by  <a href="https://github.com/stephenmathieson" target="_blank" rel="noopener">Stephen Mathieson</a>, <a href="https://github.com/rbranson" target="_blank" rel="noopener">Rick Branson</a>, <a href="https://github.com/achille-roussel" target="_blank" rel="noopener">Achille Roussel</a>, <a href="https://github.com/tsholmes" target="_blank" rel="noopener">Tom Holmes</a>, and many more.</p><p>Special thanks to  <a href="https://github.com/rbranson" target="_blank" rel="noopener">Rick Branson</a>for helping review and edit this post at every stage.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文转自：&lt;a href=&quot;https://segment.com/blog/goodbye-microservices/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://segment.com/blog/goodbye-microservices/&lt;/a&gt;&lt;br&gt;这就是那个最值钱的问题：&lt;br&gt;How do you tell the difference between:&lt;br&gt;1: XXX is a wrong solution.&lt;br&gt;2: XXX is not a bad solution, but you are doing it wrong.&lt;br&gt;以下是原文：&lt;br&gt;
    
    </summary>
    
    
      <category term="Microservices" scheme="https://youxiu.net/tags/Microservices/"/>
    
  </entry>
  
  <entry>
    <title>处理Excel的框架 Jxls 2.6.0 简单笔记。</title>
    <link href="https://youxiu.net/2019/05/23/45fa1046-1905-454c-99d2-7b944d35b378/"/>
    <id>https://youxiu.net/2019/05/23/45fa1046-1905-454c-99d2-7b944d35b378/</id>
    <published>2019-05-23T14:50:05.000Z</published>
    <updated>2019-05-23T14:55:16.479Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1、概述"><a href="#1、概述" class="headerlink" title="1、概述"></a>1、概述</h3><p>根据业务的需要，项目中使用的 <code>easy-poi</code> 不能满足一些特殊的 <code>Excel</code> 表格的导出，就希望使用 <code>Jxls</code> 来处理， <code>Jxls</code> 从原生的 <code>Apache POI</code> 演进而来，灵活性高，但是封装通用起来，需要大量写方法，来应对各种情况。本文笔记描述在项目中使用的过程。<br><a id="more"></a></p><h3 id="2、项目中使用"><a href="#2、项目中使用" class="headerlink" title="2、项目中使用"></a>2、项目中使用</h3>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1、概述&quot;&gt;&lt;a href=&quot;#1、概述&quot; class=&quot;headerlink&quot; title=&quot;1、概述&quot;&gt;&lt;/a&gt;1、概述&lt;/h3&gt;&lt;p&gt;根据业务的需要，项目中使用的 &lt;code&gt;easy-poi&lt;/code&gt; 不能满足一些特殊的 &lt;code&gt;Excel&lt;/code&gt; 表格的导出，就希望使用 &lt;code&gt;Jxls&lt;/code&gt; 来处理， &lt;code&gt;Jxls&lt;/code&gt; 从原生的 &lt;code&gt;Apache POI&lt;/code&gt; 演进而来，灵活性高，但是封装通用起来，需要大量写方法，来应对各种情况。本文笔记描述在项目中使用的过程。&lt;br&gt;
    
    </summary>
    
    
      <category term="Jxls" scheme="https://youxiu.net/tags/Jxls/"/>
    
  </entry>
  
  <entry>
    <title>Java使用RPC的方式连接SAP,从SAP获取数据</title>
    <link href="https://youxiu.net/2019/05/23/d31361ba-98d4-4f1b-8ec5-28726292d21b/"/>
    <id>https://youxiu.net/2019/05/23/d31361ba-98d4-4f1b-8ec5-28726292d21b/</id>
    <published>2019-05-23T14:42:56.000Z</published>
    <updated>2019-05-23T14:46:56.704Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1、概要"><a href="#1、概要" class="headerlink" title="1、概要"></a>1、概要</h3><p><code>EHR业务系统</code>需要定期从<code>SAP</code>系统库中获取数据。定时任务使用<code>XXL-Job</code>。SAP的lib库不是开源的，需要下载完之后，手动打进去。其中，配置SAP的环境变量也一件复杂的事情。<br><a id="more"></a></p><h3 id="2、"><a href="#2、" class="headerlink" title="2、"></a>2、</h3>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1、概要&quot;&gt;&lt;a href=&quot;#1、概要&quot; class=&quot;headerlink&quot; title=&quot;1、概要&quot;&gt;&lt;/a&gt;1、概要&lt;/h3&gt;&lt;p&gt;&lt;code&gt;EHR业务系统&lt;/code&gt;需要定期从&lt;code&gt;SAP&lt;/code&gt;系统库中获取数据。定时任务使用&lt;code&gt;XXL-Job&lt;/code&gt;。SAP的lib库不是开源的，需要下载完之后，手动打进去。其中，配置SAP的环境变量也一件复杂的事情。&lt;br&gt;
    
    </summary>
    
    
      <category term="SAP" scheme="https://youxiu.net/tags/SAP/"/>
    
  </entry>
  
  <entry>
    <title>Java中关于数据去重、GROUP BY语句的使用</title>
    <link href="https://youxiu.net/2019/05/19/5d2ff3d0-1861-46fa-a47d-9b9650c613e9-md/"/>
    <id>https://youxiu.net/2019/05/19/5d2ff3d0-1861-46fa-a47d-9b9650c613e9-md/</id>
    <published>2019-05-19T14:07:17.000Z</published>
    <updated>2019-05-27T02:37:53.276Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1、概要"><a href="#1、概要" class="headerlink" title="1、概要"></a>1、概要</h2><p>之前写过一个生日跨年查询的，后来的业务中，遇到一个根据业务范围需要去重的、还有根据一个去查询的操作。这篇笔记描述出业务场景和如何去解决的（maybe存在更好的解决方案）。<br><a id="more"></a></p><h2 id="2、业务描述"><a href="#2、业务描述" class="headerlink" title="2、业务描述"></a>2、业务描述</h2><p>举例说明其中一个。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1、概要&quot;&gt;&lt;a href=&quot;#1、概要&quot; class=&quot;headerlink&quot; title=&quot;1、概要&quot;&gt;&lt;/a&gt;1、概要&lt;/h2&gt;&lt;p&gt;之前写过一个生日跨年查询的，后来的业务中，遇到一个根据业务范围需要去重的、还有根据一个去查询的操作。这篇笔记描述出业务场景和如何去解决的（maybe存在更好的解决方案）。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>JHipster笔记之总览和网关(翻译)</title>
    <link href="https://youxiu.net/2019/03/28/285fdec4-ba38-4e57-b655-6fe7edb1e6a8/"/>
    <id>https://youxiu.net/2019/03/28/285fdec4-ba38-4e57-b655-6fe7edb1e6a8/</id>
    <published>2019-03-28T06:52:58.000Z</published>
    <updated>2019-04-01T01:50:12.730Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1、概要"><a href="#1、概要" class="headerlink" title="1、概要"></a>1、概要</h3><p>首先自己理解中的JHipster，是一个开发平台，用于生成、开发、部署微服务项目；这篇笔记是在官网学习过程中的记录，基本是依靠自己的理解翻译过来的，其中有部分是自己的理解，记录再次，方便自己理解。<br><a id="more"></a></p><h3 id="2、通过JHipster使用微服务"><a href="#2、通过JHipster使用微服务" class="headerlink" title="2、通过JHipster使用微服务"></a>2、通过JHipster使用微服务</h3><h4 id="2-1-微服务架构和单体架构"><a href="#2-1-微服务架构和单体架构" class="headerlink" title="2.1 微服务架构和单体架构"></a>2.1 微服务架构和单体架构</h4><p>第一个问题，想逆向生成一个单体应用or一个微服务结构的应用？JHipster会给你两个选择；</p><ul><li>单体架构，使用单独的、多适用性（one-size-fits-all application），同时包含前端的Angular代码和后盾的Spring Boot代码。</li><li>微服务架构，切分了前台和后端，使得应用更加易于伸缩和扩展，解决基础设施问题。</li></ul><p>一个单体应用，更加容易工作，不需要其他更多的特别要求，这是我们的推荐操作，也是默认的。</p><h4 id="2-2、微服务架构总览"><a href="#2-2、微服务架构总览" class="headerlink" title="2.2、微服务架构总览"></a>2.2、微服务架构总览</h4><p>JHipster的微服务架构的工作方式如下：</p><ul><li>网关是一个JHipster-generated的应用（逆向产生），它来处理网络的流量（handles Web traffic），并提供Angular应用程序。如果您遵循前后端的模式，可以有多个网关（非强制要求）。</li><li>Traefik是一个HTTP反向代理模型、负载均衡器，可以与网关一起使用。</li><li>JHipster Registry是一个运行时程序，所有的注册者可以从这个注册中心获取到他们的配置，还可以提供运行时的镜像控制面板。</li><li>Consul是发现服务，和Eureka注册中心是一样，采用KV存储方式；它可以作为代替品使用。</li><li>JHipster UAA全称：JHipster-based User Authentication and Authorization system，使用的是OAuth2.0协议。</li><li>Microservices是使用JHipster-generated应用逆向生成的，处理REST请求，它们多个实例可以并行，处理大量的负载请求。</li><li>JHipster Console是一个基于ELK堆栈的监视和警报控制台。</li></ul><p>在下面的这个图中，绿色组件是特定于应用程序的，蓝色组件提供其底层基础设施。<br><img src="../../../../../../images/2019032802.png" alt=""></p><h3 id="3、网关"><a href="#3、网关" class="headerlink" title="3、网关"></a>3、网关</h3><p>JHipster可以逆向出API网关。网关是一个正常的JHipster应用，可以在项目中使用普通的JHipster选项和开发工作流，它开一个作为一个程序的入口。更具体一些，它为所有的微服务提供了HTTP路由、负载均衡、服务质量、安全性和API文档。</p><h4 id="3-1、概要提示"><a href="#3-1、概要提示" class="headerlink" title="3.1、概要提示"></a>3.1、概要提示</h4><p>1.架构图<br>2.HTTP路由<br>3.安全性<br>4.自动文档<br>5.速率限制<br>6.访问控制策略</p><h4 id="3-2、架构图"><a href="#3-2、架构图" class="headerlink" title="3.2、架构图"></a>3.2、架构图</h4><p>如下图所示：</p><p><img src="../../../../../../images/3.png" alt=""></p><p>分析:</p><h4 id="3-3、HTTP使用网关进行路由请求"><a href="#3-3、HTTP使用网关进行路由请求" class="headerlink" title="3.3、HTTP使用网关进行路由请求"></a>3.3、HTTP使用网关进行路由请求</h4><p>当网关和微服务运行时，他们会注册自己到注册中心上。网关会自动代理所有的请求到微服务上，使用名字即可。<br>例如：你过你的网关运行是：<b><a href="http://localhost:8080" target="_blank" rel="noopener">http://localhost:8080</a></b>，你可以通过<b><a href="http://localhost:8080/app1/rest/foos" target="_blank" rel="noopener">http://localhost:8080/app1/rest/foos</a></b>来获取foos来获取app1提供的服务；如果您尝试使用浏览器做到这中操作，不要忘记，REST资源在JHipster中默认是安全的，所以你需要正确的JWT头部信息来实现，或者删除微服务中的<b>MicroserviceSecurityConfiguration</b>这个Java类中的这些URL的安全性。<br>如果一个服务运行着多个实例：网关将会总注册表中获取这些实例：</p><ul><li>使用Netflix Ribbon处理HTTP请求的负载均衡</li><li>使用Netflix Hystrix熔断器，当实例崩溃会被安全的、快速的移除<h4 id="3-4、安全"><a href="#3-4、安全" class="headerlink" title="3.4、安全"></a>3.4、安全</h4>略。<h4 id="3-5、JWT"><a href="#3-5、JWT" class="headerlink" title="3.5、JWT"></a>3.5、JWT</h4>JWT的简介……..<br>为了能安全考虑，一个JWT的密钥令牌必须在所有的应用之间共享；<h4 id="3-6、速率限制"><a href="#3-6、速率限制" class="headerlink" title="3.6、速率限制"></a>3.6、速率限制</h4>这是一个高级功能；使用<a href="https://github.com/vladimir-bukhtoyarov/bucket4j" target="_blank" rel="noopener">Bucket4j</a>和<a href="https://hazelcast.com/" target="_blank" rel="noopener">Hazelcast</a>来给微服务提供服务。<br>网关提供速率限制的功能，所以REST可以限制请求的数量。</li><li>通过IP限制(针对匿名用户)</li><li>通过用户登录限制(针对已经登录的用户)<br>JHipster<h4 id="3-7、访问控制策略"><a href="#3-7、访问控制策略" class="headerlink" title="3.7、访问控制策略"></a>3.7、访问控制策略</h4>默认情况，所有的微服务注册者都经过网关使用。如果你想把一个特别的API不经过网关，你可以使用网关的特殊访问控制策略过滤，它可以在<b>application-*.yml</b>使用<b>jhipster.gateway.authorized-microservices-endpoints</b>这个属性来配置：<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jhipster:</span><br><span class="line">    gateway:</span><br><span class="line">        authorized-microservices-endpoints: # Access Control Policy, if left empty for a route, all endpoints will be accessible</span><br><span class="line">            app1: /api,/v2/api-docs # recommended dev configuration</span><br></pre></td></tr></table></figure></li></ul><p>例如，如果你想只让<b>/api/foo</b>微服务端点<b>bar</b>可用：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jhipster:</span><br><span class="line">    gateway:</span><br><span class="line">        authorized-microservices-endpoints:</span><br><span class="line">            bar: /api/foo</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1、概要&quot;&gt;&lt;a href=&quot;#1、概要&quot; class=&quot;headerlink&quot; title=&quot;1、概要&quot;&gt;&lt;/a&gt;1、概要&lt;/h3&gt;&lt;p&gt;首先自己理解中的JHipster，是一个开发平台，用于生成、开发、部署微服务项目；这篇笔记是在官网学习过程中的记录，基本是依靠自己的理解翻译过来的，其中有部分是自己的理解，记录再次，方便自己理解。&lt;br&gt;
    
    </summary>
    
    
      <category term="JHipster" scheme="https://youxiu.net/tags/JHipster/"/>
    
  </entry>
  
  <entry>
    <title>Spring中的bean-配置与注入</title>
    <link href="https://youxiu.net/2019/03/28/e4d4efd7-c875-4b69-921f-cb6299ef7e72/"/>
    <id>https://youxiu.net/2019/03/28/e4d4efd7-c875-4b69-921f-cb6299ef7e72/</id>
    <published>2019-03-28T01:45:52.000Z</published>
    <updated>2019-03-28T02:42:26.610Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1、概要"><a href="#1、概要" class="headerlink" title="1、概要"></a>1、概要</h3><p>Spring中的bean配置和注入，需要理解透彻，但是没有去总结的很全面，在cnblog.com发现一篇文章，作者总结的很全面，原文地址：<a href="https://www.cnblogs.com/wuchanming/p/5426746.html" target="_blank" rel="noopener">https://www.cnblogs.com/wuchanming/p/5426746.html</a>,本文的笔记只是挑出来个人认为重要的部分。<br><a id="more"></a></p><h3 id="2、bean的配置"><a href="#2、bean的配置" class="headerlink" title="2、bean的配置"></a>2、bean的配置</h3><p>Bean的配置信息定义了Bean的实现和依赖关系，Spring容器根据各种形式的Bean配置信息在容器内部建立bean定义注册表，然后根据注册表加载、实例化Bean，并建立Bean和Bean的依赖关系，最后将这些准备就绪的Bean放到Bean缓存池中，以供外层的应用程序进行调用。</p><h5 id="Bean的配置有三种方法："><a href="#Bean的配置有三种方法：" class="headerlink" title="Bean的配置有三种方法："></a>Bean的配置有三种方法：</h5><p>①、基于XML来配置Bean；<br>②、使用注解定义Bean；<br>③、基于Java类提供Bean定义信息；</p><h4 id="2-1、基于XML来配置Bean"><a href="#2-1、基于XML来配置Bean" class="headerlink" title="2.1、基于XML来配置Bean"></a>2.1、基于XML来配置Bean</h4><p>放一张截图：<br><img src="../../../../../../images/2019032801.png" alt=""></p><h4 id="2-2、使用注解定义Bean"><a href="#2-2、使用注解定义Bean" class="headerlink" title="2.2、使用注解定义Bean"></a>2.2、使用注解定义Bean</h4><p>Spring容器成功启动的三大要件分别是：①Bean定义信息、②Bean实现类和③Spring本身；如果采用基于XML的配置，Bean定义信息和Bean实现类本身是分离的；而采用基于注解的配置方式时，<b>Bean定义信息即通过在Bean实现类上标注注解实现<b>。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.baobaotao.anno;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"><span class="comment">//①通过Repository定义一个DAO的Bean</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(<span class="string">"userDao"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></b></b></p><p>在①处，我们使用@Component注解在UserDao类声明处对类进行标记，它可以被Spring容器识别，Spring容器自动将POJO转换为容器管理的Bean。<br>它和XML是等效的：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=<span class="string">"UserDao"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"com.baobaotao.anno.UserDao"</span>&gt;&lt;bean/&gt;</span><br></pre></td></tr></table></figure></p><p>除了@Component以外，Spring提供了3个功能基本和@Component等效的注解，他们分别应用于DAO、Service以及Web层的Controller的注解；所以也成这些注解为Bean的衍生注解；<br>①、@Repository:用于对DAO实现类进行标注；<br>②、@Service:用于对Service实现类进行标注；<br>③、@Controller:用于对Controller实现类进行标注；<br>之所以要在@Component之外提供这三个特殊的注解，除了让注解类本身的用途更加清晰明白，此外Spring将赋予他们一些特殊的功能；</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1、概要&quot;&gt;&lt;a href=&quot;#1、概要&quot; class=&quot;headerlink&quot; title=&quot;1、概要&quot;&gt;&lt;/a&gt;1、概要&lt;/h3&gt;&lt;p&gt;Spring中的bean配置和注入，需要理解透彻，但是没有去总结的很全面，在cnblog.com发现一篇文章，作者总结的很全面，原文地址：&lt;a href=&quot;https://www.cnblogs.com/wuchanming/p/5426746.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.cnblogs.com/wuchanming/p/5426746.html&lt;/a&gt;,本文的笔记只是挑出来个人认为重要的部分。&lt;br&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="https://youxiu.net/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Java注解笔记</title>
    <link href="https://youxiu.net/2019/03/27/18778999-e0d4-4696-9462-88ca98eff534/"/>
    <id>https://youxiu.net/2019/03/27/18778999-e0d4-4696-9462-88ca98eff534/</id>
    <published>2019-03-27T00:33:09.000Z</published>
    <updated>2019-03-27T08:05:55.613Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1、概述"><a href="#1、概述" class="headerlink" title="1、概述"></a>1、概述</h3><p>1.1、开发过程中，遇到一些元注解或者常见的注解，本笔记记录一下这些注解的作用以及部分注解的原理。<br><a id="more"></a></p><h3 id="2、元注解"><a href="#2、元注解" class="headerlink" title="2、元注解"></a>2、元注解</h3><p>元注解可以修饰注解，是注解的注解，叫做元注解；</p><h4 id="2-1、-Retention"><a href="#2-1、-Retention" class="headerlink" title="2.1、@Retention"></a>2.1、@Retention</h4><p>作用:需要在什么级别保存该注释信息，用于描述注解的声明周期。<br>在修饰注解的时候，我们通常这样用：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br></pre></td></tr></table></figure></p><p>其中，注解@Retention有一个属性value，是RetentionPolicy类型的；RetentionPolicy有三个值，分别为：CLASS、RUNTIME、SOURCE;<br>按照声明周期划分为三类：<br>①、RetentionPolicy.SOURCE:注解只保留在源文件，当Java文件编译成.class文件的时候，注解被遗弃；<br>②、RetentionPolicy.CLASS:注解被保留到.class文件中，但是JVM加载.class文件的时候被遗弃，这是默认的生命周期；<br>③、RetentionPolicy.RUNTIME:注解不仅被保留到.class文件中，JVM加载.class文件之后，仍然存在。</p><h4 id="2-2-Target"><a href="#2-2-Target" class="headerlink" title="2.2 @Target"></a>2.2 @Target</h4><p>作用:用于描述注解的使用范围。<br>下面是部分源代码：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Target</span>(ElementType.ANNOTATION_TYPE)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Target &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns an array of the kinds of elements an annotation type</span></span><br><span class="line"><span class="comment">     * can be applied to.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> an array of the kinds of elements an annotation type</span></span><br><span class="line"><span class="comment">     * can be applied to</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    ElementType[] value();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>其中，ElementType的取值有：TYPE、FIELD、METHOD等;下面是ElementType的源代码：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * The constants of this enumerated type provide a simple classification of the</span></span><br><span class="line"><span class="comment"> * syntactic locations where annotations may appear in a Java program. These</span></span><br><span class="line"><span class="comment"> * constants are used in &#123;<span class="doctag">@link</span> Target java.lang.annotation.Target&#125;</span></span><br><span class="line"><span class="comment"> * meta-annotations to specify where it is legal to write annotations of a</span></span><br><span class="line"><span class="comment"> * given type.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;The syntactic locations where annotations may appear are split into</span></span><br><span class="line"><span class="comment"> * &lt;em&gt;declaration contexts&lt;/em&gt; , where annotations apply to declarations, and</span></span><br><span class="line"><span class="comment"> * &lt;em&gt;type contexts&lt;/em&gt; , where annotations apply to types used in</span></span><br><span class="line"><span class="comment"> * declarations and expressions.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;The constants &#123;<span class="doctag">@link</span> #ANNOTATION_TYPE&#125; , &#123;<span class="doctag">@link</span> #CONSTRUCTOR&#125; , &#123;<span class="doctag">@link</span></span></span><br><span class="line"><span class="comment"> * #FIELD&#125; , &#123;<span class="doctag">@link</span> #LOCAL_VARIABLE&#125; , &#123;<span class="doctag">@link</span> #METHOD&#125; , &#123;<span class="doctag">@link</span> #PACKAGE&#125; ,</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> #PARAMETER&#125; , &#123;<span class="doctag">@link</span> #TYPE&#125; , and &#123;<span class="doctag">@link</span> #TYPE_PARAMETER&#125; correspond</span></span><br><span class="line"><span class="comment"> * to the declaration contexts in JLS 9.6.4.1.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;For example, an annotation whose type is meta-annotated with</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> <span class="doctag">@Target</span>(ElementType.FIELD)&#125; may only be written as a modifier for a</span></span><br><span class="line"><span class="comment"> * field declaration.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;The constant &#123;<span class="doctag">@link</span> #TYPE_USE&#125; corresponds to the 15 type contexts in JLS</span></span><br><span class="line"><span class="comment"> * 4.11, as well as to two declaration contexts: type declarations (including</span></span><br><span class="line"><span class="comment"> * annotation type declarations) and type parameter declarations.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;For example, an annotation whose type is meta-annotated with</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> <span class="doctag">@Target</span>(ElementType.TYPE_USE)&#125; may be written on the type of a field</span></span><br><span class="line"><span class="comment"> * (or within the type of the field, if it is a nested, parameterized, or array</span></span><br><span class="line"><span class="comment"> * type), and may also appear as a modifier for, say, a class declaration.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;The &#123;<span class="doctag">@code</span> TYPE_USE&#125; constant includes type declarations and type</span></span><br><span class="line"><span class="comment"> * parameter declarations as a convenience for designers of type checkers which</span></span><br><span class="line"><span class="comment"> * give semantics to annotation types. For example, if the annotation type</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> NonNull&#125; is meta-annotated with</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> <span class="doctag">@Target</span>(ElementType.TYPE_USE)&#125;, then &#123;<span class="doctag">@code</span> <span class="doctag">@NonNull</span>&#125;</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> class C &#123;...&#125;&#125; could be treated by a type checker as indicating that</span></span><br><span class="line"><span class="comment"> * all variables of class &#123;<span class="doctag">@code</span> C&#125; are non-null, while still allowing</span></span><br><span class="line"><span class="comment"> * variables of other classes to be non-null or not non-null based on whether</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> <span class="doctag">@NonNull</span>&#125; appears at the variable's declaration.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>  Joshua Bloch</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 1.5</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@jls</span> 9.6.4.1 <span class="doctag">@Target</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@jls</span> 4.1 The Kinds of Types and Values</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> ElementType &#123;</span><br><span class="line">    <span class="comment">/** Class, interface (including annotation type), or enum declaration */</span></span><br><span class="line">    TYPE,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Field declaration (includes enum constants) */</span></span><br><span class="line">    FIELD,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Method declaration */</span></span><br><span class="line">    METHOD,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Formal parameter declaration */</span></span><br><span class="line">    PARAMETER,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Constructor declaration */</span></span><br><span class="line">    CONSTRUCTOR,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Local variable declaration */</span></span><br><span class="line">    LOCAL_VARIABLE,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Annotation type declaration */</span></span><br><span class="line">    ANNOTATION_TYPE,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Package declaration */</span></span><br><span class="line">    PACKAGE,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Type parameter declaration</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.8</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    TYPE_PARAMETER,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Use of a type</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.8</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    TYPE_USE</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>TYPE_PARAMETER和TYPE_USE是1.8版本有的；<br>其中，</p><ul><li>TYPE:类、接口（包括注解类型）和枚举类型的声明；</li><li>FIELD:字段声明（包括枚举常量）；</li><li>METHOD:方法声明；</li><li>PARMETER:参数声明；</li><li>CONSTRUCTOR:构造函数声明；</li><li>LOCAL_VARIABLE: 本地变量声明；</li><li>ANNOTATION_TYPE:注解类型声明；</li><li>PACKAGE:包声明；</li><li>TYPE_PARAMETER:类型参数声明，类的泛型声明；</li><li>TYPE_USE:包括类型声明和类型参数声明，方便进行类型检查；（还没有试过）；</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1、概述&quot;&gt;&lt;a href=&quot;#1、概述&quot; class=&quot;headerlink&quot; title=&quot;1、概述&quot;&gt;&lt;/a&gt;1、概述&lt;/h3&gt;&lt;p&gt;1.1、开发过程中，遇到一些元注解或者常见的注解，本笔记记录一下这些注解的作用以及部分注解的原理。&lt;br&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://youxiu.net/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>开发中的解耦与复用</title>
    <link href="https://youxiu.net/2019/03/22/51cf8560-d04b-4fbd-a04b-d40cc261ca36/"/>
    <id>https://youxiu.net/2019/03/22/51cf8560-d04b-4fbd-a04b-d40cc261ca36/</id>
    <published>2019-03-22T02:55:15.000Z</published>
    <updated>2019-03-26T10:08:25.636Z</updated>
    
    <content type="html"><![CDATA[<h3 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h3><p>在设计<b>微服务</b>模式的开发系统的时候，按照实际的划分规则进行模块区分，注册中心、网关、权限校验、字段服务、链路追踪、日志管理等等，还需要将共用的类或者接口单独取出来，放到一个模块中。<br><a id="more"></a></p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>1、公共的类，汇总到一起<br>2、引入的依赖、.jar包，考虑是否放到公共类中进行复用</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;概要&quot;&gt;&lt;a href=&quot;#概要&quot; class=&quot;headerlink&quot; title=&quot;概要&quot;&gt;&lt;/a&gt;概要&lt;/h3&gt;&lt;p&gt;在设计&lt;b&gt;微服务&lt;/b&gt;模式的开发系统的时候，按照实际的划分规则进行模块区分，注册中心、网关、权限校验、字段服务、链路追踪、日志管理等等，还需要将共用的类或者接口单独取出来，放到一个模块中。&lt;br&gt;
    
    </summary>
    
    
      <category term="总结" scheme="https://youxiu.net/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>Spring Cloud核心组件笔记</title>
    <link href="https://youxiu.net/2019/03/18/d27015fb-408b-4e82-9827-ec8d7acdd75d/"/>
    <id>https://youxiu.net/2019/03/18/d27015fb-408b-4e82-9827-ec8d7acdd75d/</id>
    <published>2019-03-18T06:20:54.000Z</published>
    <updated>2019-03-26T07:15:39.311Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1、概要"><a href="#1、概要" class="headerlink" title="1、概要"></a>1、概要</h3><p>学习微服务模式开发，记录一下对每个组件的理解和笔记；不断按照最新的理解进行修改并补充。本文笔记的Spring Cloud的核心组件包括：Eureka、Ribbon、Zuul、Hystrix、Feign组件。<br><a id="more"></a></p><h3 id="2、Eureka"><a href="#2、Eureka" class="headerlink" title="2、Eureka"></a>2、Eureka</h3><ul><li>Eureka Server:注册中心，里面有一个注册表，保存了各个服务所在的机器和端口号；</li><li>Eureka Client:负责将这个服务的信息注册到Eureka Server中；</li></ul><h3 id="3、Feign"><a href="#3、Feign" class="headerlink" title="3、Feign"></a>3、Feign</h3><ul><li>例如，订单模块调用积分模块，现在订单模块已经知道了积分模块的地址和端口号了。发出请求就需要借助Feign；</li><li>Feign根据指定的服务进行建立链接、构造请求、发起请求、获取响应、解析响应等；</li><li>上述的操作，Feign的一个机制：动态代理；</li></ul><h3 id="4、Ribbon"><a href="#4、Ribbon" class="headerlink" title="4、Ribbon"></a>4、Ribbon</h3><ul><li>服务模块有了地址、端口、和建立连接请求的条件，如果存在多个同行服务在不同机器上，比如：<ul><li>172.1.16.58:9000</li><li>172.1.16.59:9000</li><li>172.1.16.60:9000</li><li>172.1.16.61:9000</li></ul></li><li>Ribbon的作用是负载均衡。每次请求的时候，会通过不同的算法均匀的将请求分发到各个服务上；</li><li>Ribbon会从Eureka Client获取到对应的服务注册表，相对应的知道了服务部署的地址和监听的端口；</li><li>Ribbon可以使用默认的轮询算法，从其中选择一台机器；</li><li>Feign就会针对Ribbon选中的这台机器，进行下一步动作；</li><li>Feign默认是带有Ribbon的依赖的，开发的时候不需要单独引入；</li></ul><h3 id="5、Hystrix"><a href="#5、Hystrix" class="headerlink" title="5、Hystrix"></a>5、Hystrix</h3><ul><li>熔断机制。隔离、熔断、降级；Hystrix会生成很多小的线程池，比如订单的试一个线程池、积分是一个线程池；每个线程池中仅仅用于请求的服务；</li><li>即使积分服务挂掉，订单服务的线程池是正常的，仍旧可以工作，不会受到影响；</li><li>熔断：积分服务挂掉的话，设置时间5分钟内够来的请求直接返回；</li><li>降级：需要对某用户的积分进行操作，但是积分服务挂掉没办法进行。这时候可以设计一个专门存放故障的数据库；来记录对这个用户的积分操作是什么样子的。等积分服务恢复之后，可以手动还原回去；</li></ul><h3 id="6、Zuul"><a href="#6、Zuul" class="headerlink" title="6、Zuul"></a>6、Zuul</h3><ul><li>使用了一个网关，不需要关心后端有多少个微服务，只需要知道网关的地址即可。所有的请求都请过网关进行处理；</li><li>好处：可以做统一的降级、限流、认证授权等；</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1、概要&quot;&gt;&lt;a href=&quot;#1、概要&quot; class=&quot;headerlink&quot; title=&quot;1、概要&quot;&gt;&lt;/a&gt;1、概要&lt;/h3&gt;&lt;p&gt;学习微服务模式开发，记录一下对每个组件的理解和笔记；不断按照最新的理解进行修改并补充。本文笔记的Spring Cloud的核心组件包括：Eureka、Ribbon、Zuul、Hystrix、Feign组件。&lt;br&gt;
    
    </summary>
    
    
      <category term="SpringCloud" scheme="https://youxiu.net/tags/SpringCloud/"/>
    
  </entry>
  
  <entry>
    <title>MyBatis映射文件中的注意事项</title>
    <link href="https://youxiu.net/2019/03/15/64e17dff-f1e7-4527-a12c-8f7e5bd1e064/"/>
    <id>https://youxiu.net/2019/03/15/64e17dff-f1e7-4527-a12c-8f7e5bd1e064/</id>
    <published>2019-03-15T05:20:28.000Z</published>
    <updated>2019-03-15T05:22:24.124Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1、概要"><a href="#1、概要" class="headerlink" title="1、概要"></a>1、概要</h3><p>在写MyBatis的xml映射文件的时候，有一些需要注意的点：<br><a id="more"></a></p><h3 id="2、具体内容："><a href="#2、具体内容：" class="headerlink" title="2、具体内容："></a>2、具体内容：</h3><ul><li>ResultMap中子标签<code>&lt;result/&gt;</code>标签中的<code>property</code>和<code>column</code>对应字段必须所在的<code>entity</code>实体类中；</li><li>如果<code>entity</code>实体类中存在，但是没有写在<code>ResultMap</code>中，则不显示；</li><li><code>&lt;if&gt;</code>标签中存在<code>if</code>条件，如果外层关联过许多表的话，查询出的数据结果集可能会用重复，因此，限制条件必须要放到外层，而不是写在<code>&lt;if&gt;</code>标签中；</li><li>在<code>Navicate</code>中的<code>union all</code>语句是能够正确查询的，但是放到<code>mapper</code>映射文件中，需要加一层，<code>select a.* from (...) a</code>；</li><li>MyBatis中不支持通常写法的大于号和小于号，这里需要转义：大于号：<code>&amp;gt;</code>，小于号：<code>&amp;lt;</code>；</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1、概要&quot;&gt;&lt;a href=&quot;#1、概要&quot; class=&quot;headerlink&quot; title=&quot;1、概要&quot;&gt;&lt;/a&gt;1、概要&lt;/h3&gt;&lt;p&gt;在写MyBatis的xml映射文件的时候，有一些需要注意的点：&lt;br&gt;
    
    </summary>
    
    
      <category term="MyBatis" scheme="https://youxiu.net/tags/MyBatis/"/>
    
  </entry>
  
  <entry>
    <title>Git笔记及理解(不断补充)</title>
    <link href="https://youxiu.net/2019/03/12/517e01df-a412-4fb6-8386-9d91574035f6/"/>
    <id>https://youxiu.net/2019/03/12/517e01df-a412-4fb6-8386-9d91574035f6/</id>
    <published>2019-03-12T02:46:41.000Z</published>
    <updated>2019-03-14T09:22:08.660Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1、概要"><a href="#1、概要" class="headerlink" title="1、概要"></a>1、概要</h3><p>作为团队开发的一项重要利器，使用好Git是一件重要的事情；提高协作效率，节约协作时间。<br><a id="more"></a></p><h3 id="2、基础知识"><a href="#2、基础知识" class="headerlink" title="2、基础知识"></a>2、基础知识</h3><h4 id="2-1-环境的搭建"><a href="#2-1-环境的搭建" class="headerlink" title="2.1 环境的搭建"></a>2.1 环境的搭建</h4><h4 id="2-2-推送第一个文件至GitHub代码仓库"><a href="#2-2-推送第一个文件至GitHub代码仓库" class="headerlink" title="2.2 推送第一个文件至GitHub代码仓库"></a>2.2 推送第一个文件至GitHub代码仓库</h4><h4 id="2-3-原理"><a href="#2-3-原理" class="headerlink" title="2.3 原理"></a>2.3 原理</h4><h3 id="3、命令行维护"><a href="#3、命令行维护" class="headerlink" title="3、命令行维护"></a>3、命令行维护</h3><h4 id="3-1"><a href="#3-1" class="headerlink" title="3.1"></a>3.1</h4>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1、概要&quot;&gt;&lt;a href=&quot;#1、概要&quot; class=&quot;headerlink&quot; title=&quot;1、概要&quot;&gt;&lt;/a&gt;1、概要&lt;/h3&gt;&lt;p&gt;作为团队开发的一项重要利器，使用好Git是一件重要的事情；提高协作效率，节约协作时间。&lt;br&gt;
    
    </summary>
    
    
      <category term="Git" scheme="https://youxiu.net/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>开发规范笔记</title>
    <link href="https://youxiu.net/2019/03/07/16d9fb52-dd5b-4339-9b38-a98df48a8b46/"/>
    <id>https://youxiu.net/2019/03/07/16d9fb52-dd5b-4339-9b38-a98df48a8b46/</id>
    <published>2019-03-07T08:59:03.000Z</published>
    <updated>2019-03-22T10:32:44.219Z</updated>
    
    <content type="html"><![CDATA[<h3 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h3><p>日常开发中，虽然代码可用性通过，要求的功能实现了，但是有一些规范需要去遵守；避免不注意犯了一些低级错误；本文笔记梳理一些常忽略的点，以免下次再进坑；<br><a id="more"></a><br>1、公共类中的方法最好不要动；<br>2、uuid要谨慎使用；<br>3、公共的方法要放到公共的类中；<br>4、业务类的方法比较多，取名字要规范一些，长点不要紧，但是一定要读出来方法的作用是什么；如果表达不出来，加上必要的注释；<br>5、尽量不要捕获类似Exception通用异常，而是捕获特定的异常，具体到哪一种子类型；<br>6、在复杂的生产系统中，标准出错STERR不是合适的输出选项，尤其是分布式系统，最好使用产品日志；详细的输出到日志系统中；STREE无法找到堆栈轨迹；<br>不要在<b>catch</b>代码块中直接<a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Throwable.html#printStackTrace--" target="_blank" rel="noopener">printStackTrace()</a><br>7、[配置文件]在微服务的resources下的配置文件，可能会有许多的配置文件，每个配置文件尽量要求做到名字直观易懂，必要时在配置文件中做出单独的说明；</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;概要&quot;&gt;&lt;a href=&quot;#概要&quot; class=&quot;headerlink&quot; title=&quot;概要&quot;&gt;&lt;/a&gt;概要&lt;/h3&gt;&lt;p&gt;日常开发中，虽然代码可用性通过，要求的功能实现了，但是有一些规范需要去遵守；避免不注意犯了一些低级错误；本文笔记梳理一些常忽略的点，以免下次再进坑；&lt;br&gt;
    
    </summary>
    
    
      <category term="总结" scheme="https://youxiu.net/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>前后端开发中对数据类型的理解和笔记</title>
    <link href="https://youxiu.net/2019/03/07/f34c66e6-28df-4cc4-bac1-ac4e0cf6bb6a/"/>
    <id>https://youxiu.net/2019/03/07/f34c66e6-28df-4cc4-bac1-ac4e0cf6bb6a/</id>
    <published>2019-03-07T07:55:31.000Z</published>
    <updated>2019-03-14T09:22:22.077Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1、概要"><a href="#1、概要" class="headerlink" title="1、概要"></a>1、概要</h3><p>总结一下基础知识，关于最近前后端的开发中，对基础知识点的理解和重新认识；主要包括Java的List/Map、以及JSON格式的数据与数组转换的总结；<br><a id="more"></a></p><h3 id="2、背景"><a href="#2、背景" class="headerlink" title="2、背景"></a>2、背景</h3><p>首先根据开发中的两个需求，描述记录；<br>1、在EHR系统开发中，对员工的特种作业证书进行筛选统计，筛选规则：将同一证书类型、同一证书名字、同一登记时间的，取变动时间最新的一条数据展示；<br>2、前台报表显示列项目，前端Vue使用ElementUI的穿梭器实现；用户可以[自定义显示]要显示的列项目；每个用户的设置不一样；</p><h3 id="3、EHR中的解决描述记录"><a href="#3、EHR中的解决描述记录" class="headerlink" title="3、EHR中的解决描述记录"></a>3、EHR中的解决描述记录</h3><h5 id="3-1-思路和具体实现"><a href="#3-1-思路和具体实现" class="headerlink" title="3.1 思路和具体实现"></a>3.1 思路和具体实现</h5><p>员工的特种证书表中，冗余的数据太多，维护的太乱，一个证书可能有多次变动时间；数据的来源是从SAP生产800数据库中拉取过来，最新的记录没有标记；为了取数准确，每为员工的数据分两步取数：<br>1、先取出<b>不包括</b>在【同一证书名称、类型、登记时间】这个条件的数据。用<b>GROUP BY</b>分组语句查询出来；<br>2、再取出范围在【同一证书名称、类型、登记时间】这个条件的数据；<br>看下表结构（仅仅罗列了关键的字段）：</p><table><thead><tr><th>字段名称</th><th>类型</th><th>备注</th></tr></thead><tbody><tr><td>employee_special_uuid</td><td>varchar</td><td>uuid</td></tr><tr><td>employee_id</td><td>varchar</td><td>员工ID</td></tr><tr><td>special_operations_type</td><td>varchar</td><td>证书类型</td></tr><tr><td>special_operations_project</td><td>varchar</td><td>证书项目（名字）</td></tr><tr><td>special_operations_record_date</td><td>date</td><td>登记日期</td></tr><tr><td>sp_begin_date</td><td>date</td><td>变动日期</td></tr><tr><td>sp_end_date</td><td>date</td><td>结束日期</td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line"> t.employee_id  ,</span><br><span class="line"> t.special_operations_type  ,</span><br><span class="line"> t.special_operations_project  ,</span><br><span class="line"> t.special_operations_cert_code  ,</span><br><span class="line"> t.special_operations_cert_date  ,</span><br><span class="line"> t.special_operations_cert_end_date  ,</span><br><span class="line"> t.special_operations_expire_date  ,</span><br><span class="line"> t.special_operations_part_time  ,</span><br><span class="line"> t.special_operations_status  ,</span><br><span class="line"> t.special_operations_record_date  ,</span><br><span class="line"> t.employee_special_uuid  ,</span><br><span class="line"> t.special_operations_status_text  ,</span><br><span class="line"> t.special_operations_part_time_text  ,</span><br><span class="line"> t.special_operations_cert_org  ,</span><br><span class="line"> t.special_operations_type_text  ,</span><br><span class="line"> t.special_operations_project_text  ,</span><br><span class="line"> t.sp_remark  ,</span><br><span class="line"> t.sp_begin_date  ,</span><br><span class="line"> t.sp_end_date</span><br><span class="line">FROM</span><br><span class="line">m_special_operations t</span><br><span class="line">WHERE</span><br><span class="line">(t.special_operations_type IN(</span><br><span class="line">(</span><br><span class="line">SELECT</span><br><span class="line">t.special_operations_type</span><br><span class="line">FROM</span><br><span class="line">m_special_operations t</span><br><span class="line">WHERE</span><br><span class="line">t.employee_id = #&#123;employeeId&#125;</span><br><span class="line">AND t.special_operations_status = '01'</span><br><span class="line">GROUP BY</span><br><span class="line">t.special_operations_type</span><br><span class="line">HAVING</span><br><span class="line">count(t.special_operations_type) = 1</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line">or t.special_operations_project IN(</span><br><span class="line">(</span><br><span class="line">SELECT</span><br><span class="line">t.special_operations_project</span><br><span class="line">FROM</span><br><span class="line">m_special_operations t</span><br><span class="line">WHERE</span><br><span class="line">t.employee_id = #&#123;employeeId&#125;</span><br><span class="line">AND t.special_operations_status = '01'</span><br><span class="line">GROUP BY</span><br><span class="line">t.special_operations_project</span><br><span class="line">HAVING</span><br><span class="line">count(t.special_operations_project) = 1</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">or t.special_operations_record_date IN(</span><br><span class="line">(</span><br><span class="line">SELECT</span><br><span class="line">t.special_operations_record_date</span><br><span class="line">FROM</span><br><span class="line">m_special_operations t</span><br><span class="line">WHERE</span><br><span class="line">t.employee_id = #&#123;employeeId&#125;</span><br><span class="line">AND t.special_operations_status = '01'</span><br><span class="line">GROUP BY</span><br><span class="line">t.special_operations_record_date</span><br><span class="line">HAVING</span><br><span class="line">count(t.special_operations_record_date) = 1</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">AND t.employee_id = #&#123;employeeId&#125;</span><br><span class="line">AND t.special_operations_status = '01'</span><br><span class="line">group by </span><br><span class="line"> t.employee_id  ,</span><br><span class="line"> t.special_operations_type  ,</span><br><span class="line"> t.special_operations_project  ,</span><br><span class="line"> t.special_operations_cert_code  ,</span><br><span class="line"> t.special_operations_cert_date  ,</span><br><span class="line"> t.special_operations_cert_end_date  ,</span><br><span class="line"> t.special_operations_expire_date  ,</span><br><span class="line"> t.special_operations_part_time ,</span><br><span class="line"> t.special_operations_status  ,</span><br><span class="line"> t.special_operations_record_date  ,</span><br><span class="line"> t.employee_special_uuid  ,</span><br><span class="line"> t.special_operations_status_text  ,</span><br><span class="line"> t.special_operations_part_time_text  ,</span><br><span class="line"> t.special_operations_cert_org  ,</span><br><span class="line"> t.special_operations_type_text  ,</span><br><span class="line"> t.special_operations_project_text  ,</span><br><span class="line"> t.sp_remark  ,</span><br><span class="line"> t.sp_begin_date  ,</span><br><span class="line"> t.sp_end_date</span><br><span class="line"></span><br><span class="line">order by t.sp_begin_date desc</span><br></pre></td></tr></table></figure><p>上述语句能够将<b>不包括</b>在【同一证书名称、类型、登记时间】这个条件的数据。<b>GROUP BY</b>的用法不记录笔记；<br><b>取出范围在【同一证书名称、类型、登记时间】这个条件的数据</b>只要稍微改动一下查询条件即可，这样，先把要求的数据集先取出来，然后在通过Java代码去处理List即可；<br><b>最后一个order by t.sp_begin_date desc其实用处很大的，group by已经分组了，然后将最新的时间排在了结果集的最上面，对于后边的List处理起到了很方便的作用；</b><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line"> t.employee_id  ,</span><br><span class="line"> t.special_operations_type  ,</span><br><span class="line"> t.special_operations_project  ,</span><br><span class="line"> t.special_operations_cert_code  ,</span><br><span class="line"> t.special_operations_cert_date  ,</span><br><span class="line"> t.special_operations_cert_end_date  ,</span><br><span class="line"> t.special_operations_expire_date  ,</span><br><span class="line"> t.special_operations_part_time  ,</span><br><span class="line"> t.special_operations_status  ,</span><br><span class="line"> t.special_operations_record_date  ,</span><br><span class="line"> t.employee_special_uuid  ,</span><br><span class="line"> t.special_operations_status_text  ,</span><br><span class="line"> t.special_operations_part_time_text  ,</span><br><span class="line"> t.special_operations_cert_org  ,</span><br><span class="line"> t.special_operations_type_text  ,</span><br><span class="line"> t.special_operations_project_text  ,</span><br><span class="line"> t.sp_remark  ,</span><br><span class="line"> t.sp_begin_date  ,</span><br><span class="line"> t.sp_end_date</span><br><span class="line">FROM</span><br><span class="line">m_special_operations t</span><br><span class="line">WHERE</span><br><span class="line">(t.special_operations_type IN(</span><br><span class="line">(</span><br><span class="line">SELECT</span><br><span class="line">t.special_operations_type</span><br><span class="line">FROM</span><br><span class="line">m_special_operations t</span><br><span class="line">WHERE</span><br><span class="line">t.employee_id = #&#123;employeeId&#125;</span><br><span class="line">AND t.special_operations_status = '01'</span><br><span class="line">GROUP BY</span><br><span class="line">t.special_operations_type</span><br><span class="line">HAVING</span><br><span class="line">count(t.special_operations_type) &gt; 1</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line">and t.special_operations_project IN(</span><br><span class="line">(</span><br><span class="line">SELECT</span><br><span class="line">t.special_operations_project</span><br><span class="line">FROM</span><br><span class="line">m_special_operations t</span><br><span class="line">WHERE</span><br><span class="line">t.employee_id = #&#123;employeeId&#125;</span><br><span class="line">AND t.special_operations_status = '01'</span><br><span class="line">GROUP BY</span><br><span class="line">t.special_operations_project</span><br><span class="line">HAVING</span><br><span class="line">count(t.special_operations_project) &gt; 1</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">and t.special_operations_record_date IN(</span><br><span class="line">(</span><br><span class="line">SELECT</span><br><span class="line">t.special_operations_record_date</span><br><span class="line">FROM</span><br><span class="line">m_special_operations t</span><br><span class="line">WHERE</span><br><span class="line">t.employee_id = #&#123;employeeId&#125;</span><br><span class="line">AND t.special_operations_status = '01'</span><br><span class="line">GROUP BY</span><br><span class="line">t.special_operations_record_date</span><br><span class="line">HAVING</span><br><span class="line">count(t.special_operations_record_date) &gt; 1</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">AND t.employee_id = #&#123;employeeId&#125;</span><br><span class="line">AND t.special_operations_status = '01'</span><br><span class="line">group by </span><br><span class="line"> t.employee_id  ,</span><br><span class="line"> t.special_operations_type  ,</span><br><span class="line"> t.special_operations_project  ,</span><br><span class="line"> t.special_operations_cert_code  ,</span><br><span class="line"> t.special_operations_cert_date  ,</span><br><span class="line"> t.special_operations_cert_end_date  ,</span><br><span class="line"> t.special_operations_expire_date  ,</span><br><span class="line"> t.special_operations_part_time ,</span><br><span class="line"> t.special_operations_status  ,</span><br><span class="line"> t.special_operations_record_date  ,</span><br><span class="line"> t.employee_special_uuid  ,</span><br><span class="line"> t.special_operations_status_text  ,</span><br><span class="line"> t.special_operations_part_time_text  ,</span><br><span class="line"> t.special_operations_cert_org  ,</span><br><span class="line"> t.special_operations_type_text  ,</span><br><span class="line"> t.special_operations_project_text  ,</span><br><span class="line"> t.sp_remark  ,</span><br><span class="line"> t.sp_begin_date  ,</span><br><span class="line"> t.sp_end_date</span><br><span class="line"></span><br><span class="line">order by t.sp_begin_date desc</span><br></pre></td></tr></table></figure></p><h5 id="3-2-Java代码的实现；"><a href="#3-2-Java代码的实现；" class="headerlink" title="3.2 Java代码的实现；"></a>3.2 Java代码的实现；</h5><p>先放上代码：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取资质信息（1、职称信息 2、职业资格 3、特种证书）</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> employeeId</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="meta">@GetMapping</span>(value = <span class="string">"/getPostionTitleData/&#123;employeeId&#125;"</span>)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ObjectRestResponse <span class="title">getPostionTitleData</span><span class="params">(@PathVariable String employeeId)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    List&lt;MPostionTitle&gt; list1 = mPostionTitleBiz.selectPostionTitleByEmpId(employeeId);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 职业资格重复的记录</span></span><br><span class="line">    List&lt;MProQualifications&gt; mProQualificationsList = mProQualificationsBiz.selectProQuaById(employeeId);</span><br><span class="line">    <span class="comment">// 职业资格不重复的记录；</span></span><br><span class="line">    List&lt;MProQualifications&gt; notRepeatMpqList = mProQualificationsBiz.selectMProQuaNotRepeat(employeeId);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 特种证书重复的记录</span></span><br><span class="line">    List&lt;MSpecialOperations&gt; mSpecialOperationsList = mSpecialOperationsBiz.selectSpecOperationById(employeeId);</span><br><span class="line">    <span class="comment">// 特种证书不重复的记录</span></span><br><span class="line">    List&lt;MSpecialOperations&gt; notRepeatMsoList = mSpecialOperationsBiz.selectSpecOPerationNotRepeat(employeeId);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 处理职业资格重复的记录；</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mProQualificationsList.size() - <span class="number">1</span>; ++i) &#123;</span><br><span class="line">        DateFormat df = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd"</span>);</span><br><span class="line">        <span class="keyword">if</span> (mProQualificationsList.get(i).getEmployeeProType().equals(mProQualificationsList.get(i + <span class="number">1</span>))</span><br><span class="line">                &amp;&amp; mProQualificationsList.get(i).getEmployeeProLevel().equals(mProQualificationsList.get(i + <span class="number">1</span>))</span><br><span class="line">                &amp;&amp; mProQualificationsList.get(i).getEmployeeProDate().equals(mProQualificationsList.get(i + <span class="number">1</span>))) &#123;</span><br><span class="line">            <span class="keyword">if</span> (mProQualificationsList.get(i).getEmployeeProDate().getTime() &gt; mProQualificationsList.get(i + <span class="number">1</span>).getEmployeeProDate().getTime()) &#123;</span><br><span class="line">                mProQualificationsList.set((i + <span class="number">1</span>), mProQualificationsList.get(i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 去除重复的记录</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mProQualificationsList.size() - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = mProQualificationsList.size() - <span class="number">1</span>; j &gt; i; j--) &#123;</span><br><span class="line">            mProQualificationsList.remove(j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    mProQualificationsList.addAll(notRepeatMpqList);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 处理特种证书重复的记录；</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mSpecialOperationsList.size() - <span class="number">1</span>; ++i) &#123;</span><br><span class="line">        DateFormat df = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd"</span>);</span><br><span class="line">        <span class="keyword">if</span> (mSpecialOperationsList.get(i).getSpecialOperationsType().equals(mSpecialOperationsList.get(i + <span class="number">1</span>).getSpecialOperationsType())</span><br><span class="line">                &amp;&amp; mSpecialOperationsList.get(i).getSpecialOperationsProject().equals(mSpecialOperationsList.get(i + <span class="number">1</span>).getSpecialOperationsProject())</span><br><span class="line">                &amp;&amp; mSpecialOperationsList.get(i).getSpecialOperationsRecordDate().equals(mSpecialOperationsList.get(i + <span class="number">1</span>).getSpecialOperationsRecordDate())) &#123;</span><br><span class="line">            <span class="keyword">if</span> (mSpecialOperationsList.get(i).getSpBeginDate().getTime() &gt; mSpecialOperationsList.get(i + <span class="number">1</span>).getSpBeginDate().getTime()) &#123;</span><br><span class="line">                mSpecialOperationsList.set((i + <span class="number">1</span>), mSpecialOperationsList.get(i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 去除重复的msList</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mSpecialOperationsList.size() - <span class="number">1</span>; i ++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = mSpecialOperationsList.size() - <span class="number">1</span>;j &gt; i; j-- ) &#123;</span><br><span class="line">            <span class="keyword">if</span> (mSpecialOperationsList.get(i).equals(mSpecialOperationsList.get(j))) &#123;</span><br><span class="line">                mSpecialOperationsList.remove(j);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    mSpecialOperationsList.addAll(notRepeatMsoList);</span><br><span class="line"></span><br><span class="line">    Map map = <span class="keyword">new</span> HashMap();</span><br><span class="line">    map.put(<span class="string">"titleData"</span>, list1);</span><br><span class="line">    map.put(<span class="string">"proQualificationsData"</span>, mProQualificationsList);</span><br><span class="line">    map.put(<span class="string">"specialWorkData"</span>, mSpecialOperationsList);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ObjectRestResponse().data(map);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>拿特种证书来说，用for()循环，将List循环，for()的作用是将List中的元素全部设置为同一个元素，if条件语句是限定第i个元素和i+1个元素，如果相同，则是一样的，将i+1个元素设置为跟i一样，刚才上面说了，<b>最后一个order by t.sp_begin_date desc其实用处很大的，group by已经分组了，然后将最新的时间排在了结果集的最上面，对于List处理起到了很方便的作用；</b>处理之后的list，数据永远是符合要求的那一条；</p><p>第二个for()循环的作用是出去list的重复值，其实只留下一个即可；用for()一个一个的remove()处理掉；这样剩余的就符合条件了；</p><h3 id="4、前台报表列显示与隐藏实现"><a href="#4、前台报表列显示与隐藏实现" class="headerlink" title="4、前台报表列显示与隐藏实现"></a>4、前台报表列显示与隐藏实现</h3><h5 id="4-1-思路和具体实现"><a href="#4-1-思路和具体实现" class="headerlink" title="4.1 思路和具体实现"></a>4.1 思路和具体实现</h5><p>前台之前是用mock模拟实现的，这是存储的方式：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">saveColumnSetting: <span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">  localStorage.setItem(<span class="string">'columns'</span>, <span class="built_in">JSON</span>.stringify(<span class="built_in">JSON</span>.parse(config.body).columns))</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'这是mock5'</span>)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p><p>存储到了localStorage中，如果浏览器清除缓存了，或者用户使用了另一个浏览器登录或者其他的电脑的登录，这个配置就会失效；<br>这是用户打开页面加载的代码：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">created() &#123;</span><br><span class="line">  <span class="keyword">const</span> model = <span class="string">'projectApply'</span>;</span><br><span class="line">  getColumnSetting(model).then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (response &amp;&amp; response.length) &#123;</span><br><span class="line">      <span class="keyword">this</span>.columns = response</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>获取也是从localStorage中获取：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getColumnSetting: <span class="function"><span class="params">()</span> =&gt;</span> (&#123; <span class="attr">data</span>: <span class="built_in">JSON</span>.parse(localStorage.getItem(<span class="string">'columns'</span>)) &#125;)</span><br></pre></td></tr></table></figure></p><p>这是向后传递的时候，调用的函数：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">changeColumnWidth(newWidth, oldWidth, column) &#123;</span><br><span class="line">  <span class="keyword">this</span>.columns.forEach(<span class="function"><span class="params">el</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (el.code === column.property) &#123;</span><br><span class="line">      el.width = newWidth</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  saveColumnSetting(&#123; <span class="attr">module</span>: <span class="keyword">this</span>.module, <span class="attr">columns</span>: <span class="built_in">JSON</span>.stringify(<span class="keyword">this</span>.columns) &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p><p>data的内容是：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">module</span>: <span class="keyword">this</span>.module, <span class="attr">columns</span>: <span class="built_in">JSON</span>.stringify(<span class="keyword">this</span>.columns) &#125;</span><br></pre></td></tr></table></figure></p><p>其中用到了<b>JSON.stringify()</b>函数，将数组转换成JSON的格式，存储到后端的columns字段中；<br>这是接口，函数传递过来的是data：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">saveColumnSetting</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> request(&#123;</span><br><span class="line">    url: <span class="string">'/api/crm/mdColumnsShow/saveColumnSetting'</span>,</span><br><span class="line">    method: <span class="string">'post'</span>,</span><br><span class="line">    data</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><b>this.columns</b>是一个数组，可以使用forEach箭头函数将其遍历；<br>那就需要将这部分的配置，存储到数据库中，下面是存储的表结构：</p><table><thead><tr><th>字段名称</th><th>类型</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>varchar</td><td>uuid</td></tr><tr><td>module</td><td>varchar</td><td>模块名称</td></tr><tr><td>user_id</td><td>varchar</td><td>用户Id</td></tr><tr><td>user_name</td><td>varchar</td><td>用户名字</td></tr><tr><td>columns</td><td>date</td><td>列的配置</td></tr></tbody></table><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>总结上述的过程，操作List;</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1、概要&quot;&gt;&lt;a href=&quot;#1、概要&quot; class=&quot;headerlink&quot; title=&quot;1、概要&quot;&gt;&lt;/a&gt;1、概要&lt;/h3&gt;&lt;p&gt;总结一下基础知识，关于最近前后端的开发中，对基础知识点的理解和重新认识；主要包括Java的List/Map、以及JSON格式的数据与数组转换的总结；&lt;br&gt;
    
    </summary>
    
    
      <category term="总结" scheme="https://youxiu.net/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>MySQL常见问题及优化</title>
    <link href="https://youxiu.net/2019/01/26/5a626726-4e1c-41ae-b704-8e4331860a5a/"/>
    <id>https://youxiu.net/2019/01/26/5a626726-4e1c-41ae-b704-8e4331860a5a/</id>
    <published>2019-01-26T03:35:45.000Z</published>
    <updated>2019-03-15T05:55:38.747Z</updated>
    
    <content type="html"><![CDATA[<h2 id="MySQL的优化方案有哪一些？"><a href="#MySQL的优化方案有哪一些？" class="headerlink" title="MySQL的优化方案有哪一些？"></a>MySQL的优化方案有哪一些？</h2><p>本文介绍一下优化SQL语句和优化索引。</p><h3 id="本文记录MySQL-本文梗概如下"><a href="#本文记录MySQL-本文梗概如下" class="headerlink" title="本文记录MySQL 本文梗概如下:"></a>本文记录MySQL 本文梗概如下:</h3><ul><li>优化SQL</li><li>优化索引</li><li>开启查询缓存<a id="more"></a></li><li>配合使用Redis</li><li>MySQL主从复制</li><li>优化MySQL自带的分区表</li><li>垂直拆分,分解大系统,成为小系统,分布式系统</li><li>水平拆分</li><li>硬件上的升级、存储引擎、MySQL本身的配置文件</li></ul><h2 id="（一）优化SQL"><a href="#（一）优化SQL" class="headerlink" title="（一）优化SQL"></a>（一）优化SQL</h2><h4 id="1、通过MySQL自有的优化语句"><a href="#1、通过MySQL自有的优化语句" class="headerlink" title="1、通过MySQL自有的优化语句"></a>1、通过MySQL自有的优化语句</h4><p>优化SQL语句，通过脚本命令来了解执行率较低的语句，显示一下状态等。</p><ul><li>SHOW命令<ul><li>SHOW Status可以了解SQL的执行频率。可以显示日志，显示特定的数据库、表、索引以及进程还有权限表中的信息等等。<br>介绍一些常见的字段</li><li>Innodb_rows_read:Select查询返回的行数。</li><li>Innodb_rows_inserted:执行INSERT操作插入的行数。</li><li>Innodb_rows_updated:执行UPDATE操作更新的行数。</li><li>Innodb_rows_deleted:执行DELETE操作删除的行数。</li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;MySQL的优化方案有哪一些？&quot;&gt;&lt;a href=&quot;#MySQL的优化方案有哪一些？&quot; class=&quot;headerlink&quot; title=&quot;MySQL的优化方案有哪一些？&quot;&gt;&lt;/a&gt;MySQL的优化方案有哪一些？&lt;/h2&gt;&lt;p&gt;本文介绍一下优化SQL语句和优化索引。&lt;/p&gt;
&lt;h3 id=&quot;本文记录MySQL-本文梗概如下&quot;&gt;&lt;a href=&quot;#本文记录MySQL-本文梗概如下&quot; class=&quot;headerlink&quot; title=&quot;本文记录MySQL 本文梗概如下:&quot;&gt;&lt;/a&gt;本文记录MySQL 本文梗概如下:&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;优化SQL&lt;/li&gt;
&lt;li&gt;优化索引&lt;/li&gt;
&lt;li&gt;开启查询缓存
    
    </summary>
    
    
      <category term="MySQL" scheme="https://youxiu.net/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>MyBatis语法总结</title>
    <link href="https://youxiu.net/2019/01/02/9ec1b26b-333e-4b8c-875c-4c20d6be8d9f/"/>
    <id>https://youxiu.net/2019/01/02/9ec1b26b-333e-4b8c-875c-4c20d6be8d9f/</id>
    <published>2019-01-02T10:09:31.000Z</published>
    <updated>2019-03-22T10:33:23.882Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1、概述"><a href="#1、概述" class="headerlink" title="1、概述"></a>1、概述</h3><ul><li>MyBatis在一些情况下，与在MySQL里面直接查询两者的运行情况（此处无关结果集）不一定是一样的，有些语句在MyBatis中运行是报错的。<a id="more"></a></li></ul><h3 id="2、MyBatis中的标签"><a href="#2、MyBatis中的标签" class="headerlink" title="2、MyBatis中的标签"></a>2、MyBatis中的<where></where>标签</h3>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1、概述&quot;&gt;&lt;a href=&quot;#1、概述&quot; class=&quot;headerlink&quot; title=&quot;1、概述&quot;&gt;&lt;/a&gt;1、概述&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;MyBatis在一些情况下，与在MySQL里面直接查询两者的运行情况（此处无关结果集）不一定是一样的，有些语句在MyBatis中运行是报错的。
    
    </summary>
    
    
      <category term="MyBatis" scheme="https://youxiu.net/tags/MyBatis/"/>
    
  </entry>
  
  <entry>
    <title>前端后端数据交互过程例解与调试</title>
    <link href="https://youxiu.net/2018/12/29/205380c3-c733-4f1b-ba14-9bc6274e63ab/"/>
    <id>https://youxiu.net/2018/12/29/205380c3-c733-4f1b-ba14-9bc6274e63ab/</id>
    <published>2018-12-29T06:53:48.000Z</published>
    <updated>2019-03-27T02:23:17.989Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1、概述"><a href="#1、概述" class="headerlink" title="1、概述"></a>1、概述</h3><p>前后端分离项目进行数据交互的时候，出现错误改如何快速定位调试。<br><a id="more"></a></p><h3 id="2、前后交互数据的过程"><a href="#2、前后交互数据的过程" class="headerlink" title="2、前后交互数据的过程"></a>2、前后交互数据的过程</h3>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1、概述&quot;&gt;&lt;a href=&quot;#1、概述&quot; class=&quot;headerlink&quot; title=&quot;1、概述&quot;&gt;&lt;/a&gt;1、概述&lt;/h3&gt;&lt;p&gt;前后端分离项目进行数据交互的时候，出现错误改如何快速定位调试。&lt;br&gt;
    
    </summary>
    
    
      <category term="技术" scheme="https://youxiu.net/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>方案解决与思路提示</title>
    <link href="https://youxiu.net/2018/12/25/c03038cf-42d9-4b76-bb2f-9a6a5a8e719c/"/>
    <id>https://youxiu.net/2018/12/25/c03038cf-42d9-4b76-bb2f-9a6a5a8e719c/</id>
    <published>2018-12-25T12:08:43.000Z</published>
    <updated>2019-03-22T10:35:52.025Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1、概述"><a href="#1、概述" class="headerlink" title="1、概述"></a>1、概述</h3><p>旨在积累一些问题的解决方案和思路，下次出现快速解决。少走弯路；提高效率。<br><a id="more"></a></p><h3 id="2、微服务分机部署"><a href="#2、微服务分机部署" class="headerlink" title="2、微服务分机部署"></a>2、微服务分机部署</h3><ul><li>分机部署，如果是不同服务商的服务器，加载速度会变得很慢。可以使用CDN加速。即使是同一个运营商不同地域的，也会这样。</li><li>记得开放端口和设置安全组规则（比如阿里云的），想当于设置白名单。</li><li>微服务的占用性能比较大，如果在出现线程被自动kill的现象，要即使查看是不是内存不足导致，从而出发了kill最大内存的进程。</li></ul><h3 id="3、整理自己的资料"><a href="#3、整理自己的资料" class="headerlink" title="3、整理自己的资料"></a>3、整理自己的资料</h3><ul><li>学会使用标签。</li><li>Notes是个好东西。</li><li>之后每份重要的文件都要放上标签，便于查找。</li><li>自己的资料库要形成索引。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1、概述&quot;&gt;&lt;a href=&quot;#1、概述&quot; class=&quot;headerlink&quot; title=&quot;1、概述&quot;&gt;&lt;/a&gt;1、概述&lt;/h3&gt;&lt;p&gt;旨在积累一些问题的解决方案和思路，下次出现快速解决。少走弯路；提高效率。&lt;br&gt;
    
    </summary>
    
    
      <category term="技术" scheme="https://youxiu.net/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
</feed>
